!function(e){function t(t){for(var o,a,d=t[0],s=t[1],l=t[2],c=0,f=[];c<d.length;c++)a=d[c],Object.prototype.hasOwnProperty.call(i,a)&&i[a]&&f.push(i[a][0]),i[a]=0;for(o in s)Object.prototype.hasOwnProperty.call(s,o)&&(e[o]=s[o]);for(u&&u(t);f.length;)f.shift()();return r.push.apply(r,l||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],o=!0,d=1;d<n.length;d++){var s=n[d];0!==i[s]&&(o=!1)}o&&(r.splice(t--,1),e=a(a.s=n[0]))}return e}var o={},i={1:0},r=[];function a(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=o,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)a.d(n,o,function(t){return e[t]}.bind(null,o));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="";var d=window.webpackJsonp=window.webpackJsonp||[],s=d.push.bind(d);d.push=t,d=d.slice();for(var l=0;l<d.length;l++)t(d[l]);var u=s;r.push([3,2]),n()}({3:function(e,t,n){"use strict";function o(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20,o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return function(){var i=this,r=arguments,a=function(){t=null,o||e.apply(i,r)},d=o&&!t;clearTimeout(t),t=setTimeout(a,n),d&&e.apply(i,r)}}n.r(t);var i=function e(t,n){var o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return t.offsetParent!==document.body?(n+=t.offsetTop,null===t.offsetParent?(o||console.warn("The offsetParent of ".concat(t.className||t.id,' is null. The node\'s offsetParent may have a position of "fixed" or a display of "none" that could interfere with offset calculations.')),o=!0,e(t.parentElement,n,o)):e(t.offsetParent,n)):n+t.offsetTop};function r(e,t,n){return e>n-t&&e<n+t}function a(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var d=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.$nodes={images:document.querySelectorAll("img[data-src]")},this.data={imagesLoaded:[],imageQueue:[]},this.setImageQueue(),this.debouncedResize=new CustomEvent("debouncedResize"),this.throttledScroll=new CustomEvent("throttledScroll"),this.init()}var t,n,d;return t=e,(n=[{key:"init",value:function(){this.evaluateImageQueue(),this.addCustomEvents(),this.lazyLoader()}},{key:"lazyLoader",value:function(){var e=this;window.addEventListener("throttledScroll",(function(){e.evaluateImageQueue()}))}},{key:"setImageQueue",value:function(){var e=this;this.$nodes.images.forEach((function(t){e.data.imageQueue.push(t),t.parentNode.style.paddingBottom="".concat(t.dataset.height/t.dataset.width*100,"%")}))}},{key:"evaluateImageQueue",value:function(){var e=this.data;e.imageQueue.filter((function(e){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{threshold:window.innerHeight/2},n=0,o=i(e,n,!1);return!!r(window.pageYOffset,t.threshold,o)}(e,{threshold:window.innerHeight})})).forEach((function(t){t.getAttribute("src")||(t.setAttribute("src",t.dataset.src),t.classList.add("loaded"),e.imagesLoaded.push(t))}))}},{key:"addCustomEvents",value:function(){var e=this;window.addEventListener("resize",o((function(){e.emitResizeEvent()}),100)),window.addEventListener("scroll",o((function(){e.emitScrollEvent()}),10))}},{key:"emitResizeEvent",value:function(){window.dispatchEvent(this.debouncedResize)}},{key:"emitScrollEvent",value:function(){window.dispatchEvent(this.throttledScroll)}}])&&a(t.prototype,n),d&&a(t,d),e}(),s=(n(2).tween,document.querySelector(".gallery")),l=function(){if(s){var e={name:"gallery",$nodes:{slider:s.querySelector(".gallery__container"),slides:s.querySelectorAll(".gallery__slide"),liners:s.querySelectorAll(".gallery__slide-liner"),figures:s.querySelectorAll(".gallery__figure"),images:s.querySelectorAll(".gallery__figure img"),previous:s.querySelectorAll(".gallery__previous"),next:s.querySelectorAll(".gallery__next")},data:{maxLinerWidth:0,actualSlideWidth:0,activeIndex:0,translateValue:0,slideCount:0},hooks:{created:function(){var t=e.methods;t.addListeners(),t.setMaxSlideWidth()},ready:function(){e.methods.indexSlides()},resize:function(){e.methods.setMaxSlideWidth()}},methods:{addListeners:function(){var t=e.$nodes,n=e.methods;t.previous.forEach((function(e){e.addEventListener("click",n.previous)})),t.next.forEach((function(e){e.addEventListener("click",n.next)})),window.addEventListener("resize",n.setMaxSlideWidth)},goToActiveIndex:function(){var t=e.$nodes,n=e.data;n.translateValue=-n.actualSlideWidth*n.activeIndex,t.slider.style.transform="translate3d(".concat(n.translateValue,"px, 0, 0)")},previous:function(){var t=e.data,n=e.methods;t.activeIndex-1<0?t.activeIndex=t.slideCount-1:t.activeIndex--,n.goToActiveIndex()},next:function(){var t=e.data,n=e.methods;t.activeIndex+1===t.slideCount?t.activeIndex=0:t.activeIndex++,n.goToActiveIndex()},indexSlides:function(){var t=e.$nodes,n=e.data;t.slides.forEach((function(e,t){e.dataset.index=t})),n.slideCount=t.slides.length},resizeSlides:function(){var t=e.$nodes,n=e.methods,o=e.data;t.liners.forEach((function(e){e.style.maxWidth="".concat(o.maxLinerWidth,"px")})),o.actualSlideWidth=t.slides[0].offsetWidth,n.goToActiveIndex()},setMaxSlideWidth:function(){var t=e.data,n=e.methods,o=t.maxLinerWidth;t.maxLinerWidth=.9*s.offsetWidth,t.maxLinerWidth!==o&&n.resizeSlides()}}};return e}};window.__ViewController=new d;var u=[];document.addEventListener("DOMContentLoaded",(function(){console.log("DOMContentLoaded"),(u=[l()]).forEach((function(e){"function"==typeof e.hooks.created&&e.hooks.created()}))})),window.addEventListener("readystatechange",(function(){console.log("readystatechange")})),window.addEventListener("load",(function(){console.log("load"),u.forEach((function(e){"function"==typeof e.hooks.ready&&e.hooks.ready()})),window.addEventListener("debouncedResize",(function(){u.forEach((function(e){"function"==typeof e.hooks.debouncedResize&&e.hooks.debouncedResize()}))})),window.addEventListener("resize",(function(){u.forEach((function(e){"function"==typeof e.hooks.resize&&e.hooks.resize()}))}))}))}});
//# sourceMappingURL=nick.main.js.map