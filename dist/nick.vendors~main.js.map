{"version":3,"sources":["webpack:///./node_modules/tslib/tslib.es6.js","webpack:///./node_modules/style-value-types/dist/style-value-types.es.js","webpack:///./node_modules/framesync/dist/framesync.es.js","webpack:///./node_modules/@popmotion/easing/dist/easing.es.js","webpack:///./node_modules/@popmotion/popcorn/dist/popcorn.es.js","webpack:///./node_modules/stylefire/dist/stylefire.es.js","webpack:///./node_modules/popmotion/dist/popmotion.es.js"],"names":["extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__extends","__","this","constructor","prototype","create","__assign","assign","t","s","i","n","arguments","length","call","apply","__rest","e","indexOf","getOwnPropertySymbols","propertyIsEnumerable","min","max","v","Math","sanitize","Number","toFixed","floatRegex","colorRegex","singleColorRegex","number","test","parse","parseFloat","transform","alpha","default","createUnitType","unit","endsWith","split","degrees","percent","px","vh","vw","progressPercentage","clampRgbUnit","isRgba","undefined","red","isHsla","hue","splitColorValues","terms","value","values","valuesArray","substring","lastIndexOf","rgbUnit","round","isColorString","color","colorType","startsWith","rgba","_a","green","blue","_b","alpha$$1","rgbaTemplate","hsla","saturation","lightness","hslaTemplate","hex","r","g","substr","parseInt","convertNumbersToZero","complex","isNaN","numValues","foundNumbers","match","foundColors","input","parsed","replace","push","map","createTransformer","prop","template","token","numColors","numNumbers","output","getAnimatableNone","target","parsedTarget","targetTransformer","StepId","prevTime","onNextFrame","window","requestAnimationFrame","callback","timestamp","Date","now","timeToCall","setTimeout","defaultElapsed","useDefaultElapsed","willRunNextFrame","delta","stepsOrder","Read","Update","Render","PostRender","setWillRunNextFrame","willRun","reduce","acc","key","setRunNextFrame","processToRun","processToRunNextFrame","numThisFrame","isProcessing","cancelled","toKeepAlive","renderStep","step","WeakSet","cancel","process","indexOfCallback","add","splice","frame","process_1","has","schedule","keepAlive","immediate","addToCurrentBuffer","buffer","delete","sync","startLoop","cancelSync","steps","processStep","stepId","processFrame","forEach","getFrameData","reversed","easing","mirrored","createReversedEasing","createMirroredEasing","createExpoIn","power","pow","createBackIn","createAnticipateEasing","backEasing","linear","easeIn","easeOut","easeInOut","circIn","sin","acos","circOut","circInOut","backIn","backOut","backInOut","anticipate","bounceOut","p2","bounceIn","bounceInOut","FLOAT_32_SUPPORTED","Float32Array","a1","a2","c","getSlope","calcBezier","cubicBezier","mX1","mY1","mX2","mY2","sampleValues","getTForX","aX","dist","guessForT","initialSlope","intervalStart","currentSample","K_SPLINE_TABLE_SIZE","aGuessT","currentSlope","newtonRaphsonIterate","aA","aB","currentX","currentT","abs","binarySubdivide","calcSampleValues","zeroPoint","x","y","z","isNum","radiansToDegrees","radians","PI","angle","a","atan2","applyOffset","from","to","hasReceivedFrom","curryRange","func","cv","clamp$1","degreesToRadians","isPoint","point","isPoint3D","distance1D","distance","xDelta","yDelta","zDelta","sqrt","toFromDifference","mix","progress","mixLinearColor","fromExpo","toExpo","colorTypes","getColorType","find","type","notAnimatable","color$$1","mixColor","fromColorType","toColorType","fromColor","toColor","blended","mixFunc","combineFunctions","pipe","transformers","_i","getMixer","origin","mixComplex","mixArray","slice","blendValue","fromThis","mixObject","analyse","numRGB","numHSL","originStats","targetStats","mixNumber","createMixers","ease","customMixer","mixers","mixerFactory","isArray","numMixers","mixer","easingFunction","testElement","smoothFrame","prevValue","nextValue","duration","smoothing","num","precision","identity","springForce","alterDisplacement","constant","displacement","springModifiedDisplacement","springForceLinear","springForceExpo","velocityPerFrame","xps","frameDuration","velocityPerSecond","velocity","wrap$1","rangeSize","createStyler","onRead","onRender","uncachedValues","Set","_c","useCache","props","state","changedValues","hasChanged","setValue","hasCSSVariable","currentValue","render","styler","get","forceRead","set","forceRender","CAMEL_CASE_PATTERN","camelToDash","str","toLowerCase","camelCache","Map","dashCache","prefixes","numPrefixes","isBrowser","document","setDashPrefix","prefixed","prefixer","asDashCase","cache","createElement","prefix","noPrefix","prefixedPropertyName","charAt","toUpperCase","style","testPrefix","setServerProperty","axes","transformProps","axesAcc","axesKey","transformPropDictionary","dict","isTransformProp","sortTransformProps","transformOriginProps","isTransformOriginProp","valueTypes","backgroundColor","outlineColor","fill","stroke","borderColor","borderTopColor","borderRightColor","borderBottomColor","borderLeftColor","borderWidth","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","borderRadius","radius","borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius","width","maxWidth","height","maxHeight","size","top","right","bottom","left","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","margin","marginTop","marginRight","marginBottom","marginLeft","rotate","rotateX","rotateY","rotateZ","scale","scaleX","scaleY","scaleZ","skew","skewX","skewY","translateX","translateY","translateZ","perspective","opacity","originX","originY","originZ","zIndex","fillOpacity","strokeOpacity","numOctaves","getValueType","getValueAsType","scrollKeys","blacklist","translateAlias","isCustomTemplate","buildStyleProperty","enableHardwareAcceleration","styles","transformOrigin","transformKeys","isDashCase","transformIsDefault","hasTransform","hasTransformOrigin","valueType","valueAsType","transformString","transformHasZ","sort","numTransformKeys","trim","buildTransform","createStyleBuilder","cssStyler","options","element","preparseOutput","defaultValueType","domValue","getComputedStyle","getPropertyValue","buildStyles","numChangedValues","setProperty","camelCaseAttributes","progressToPixels","unmeasured","calcOrigin","offset","buildSVGAttrs","dimensions","totalPathLength","cssBuilder","attrs","attrX","attrY","pathLength","pathSpacing","pathOffset","calculateSVGTransformOrigin","createAttrBuilder","svgStyler","getAttribute","buildAttrs","setAttribute","viewport","pageYOffset","pageXOffset","scrollTop","scrollLeft","scrollTo","WeakMap","createDOMStyler","node","HTMLElement","click","isHTMLElement","SVGElement","isSVGElement","getBBox","getBoundingClientRect","getDimensions","getSVGElementDimensions","tagName","isPath","getTotalLength","createCssStyler","nodeOrSelector","getStyler","querySelector","Chainable","applyMiddleware","middleware","concat","funcs","pipedUpdate","update","while","predicate","complete","filter","Observer","observer","onComplete","_this","isActive","updateObserver","error","err","m","createObserver","observerCandidate","_super","Action","start","isComplete","subscription","stop","init","observerProps","api","registerParent","BaseMulticast","subscribers","subscriber","subscribe","unsubscribe","index","parent","Multicast","multicast","stepProgress","progress$$1","segment","subsegment","subsegmentProgressOfTarget","floor","calc","freeze","dilate","getValueFromProgress","pointFromAngleAndDistance","cos","getProgressFromValue","smooth","speedPerFrame","speedPerSecond","ValueReaction","typeOfV","scheduleVelocityCheck","postRender","velocityCheck","lastUpdated","prev","current","updateCurrent","getVelocityOfCurrent","getSingleVelocity","isValueList","getMapVelocity","getListVelocity","initialSubscription","getVelocity","timeDelta","sub","multi","getCount","getFirst","getOutput","mapApi","setProp","startActions","actions","numActions","updateOutput","numCompletedActions","subs","name","hasCompleted","keys","methodName","composite","args","propKey","starter","parallel","action","parallel$1","unitTypes","findUnitType","createAction","createArrayAction","vectorKeys","firstVectorKey","actionList","childActionProps","reduceArrayValue","getActionCreator","createObjectAction","actionMap","reduceObjectValue","createUnitAction","unitType","createMixerAction","createColorAction","createComplexAction","createVectorAction","typeTests","testNames","isVectorProp","getVectorKeys","testVectorProps","some","createVectorTests","testProp","Boolean","isUnitProp","vectorDecay","_d","_e","timeConstant","_f","restDelta","modifyTarget","elapsed","amplitude","idealTarget","frameDelta","exp","isMoving","vectorSpring","stiffness","damping","_g","mass","_h","restSpeed","_j","initialVelocity","position","prevPosition","dampingRatio","angularFreq","envelope","expoDecay","isBelowVelocityThreshold","isBelowDisplacementThreshold","bounceStiffness","bounceDamping","activeAnimation","isSpring","isLessThanMin","isMoreThanMax","isOutOfBounds","startAnimation","animation","next","startSpring","currentVelocity","isTravellingAwayFromBounds","initialTime","vectorScrubber","reverseEase","seek","tween","flip","loop","yoyo","repeatDelay","_k","_l","flipCount","_m","yoyoCount","_o","loopCount","playhead","currentProgress","reverseAnimation","updateTween","startTimer","stopTimer","getElapsed","getProgress","pause","resume","newProgress","reverse","clampProgress$1","keyframes","easings","times","tweenProps","easing$$1","defaultEasings","defaultTimings","scrubbers","rangeLength","finalInputIndex","finalScrubberIndex","scrub","progressInRange","interpolateScrubbers","vectorPhysics","acceleration","friction","springStrength","setAcceleration","setFriction","setSpringStrength","setSpringTarget","setVelocity","flattenArrayInstructions","instructions","instruction","flatInstructions","lastArg","isStaggered","staggerDelay","segments","numSegments","item","flattenTimings","convertDefToProps","def","prevTimeTo","timeFrom","at","timeTo","timeline","calculatedDuration","animationDefs","tracks","numDefs","track","Error","trackKeyframes","keyframeProps","listen","events","eventNames","eventName","addEventListener","removeEventListener","defaultPointerPos","clientX","clientY","pageX","pageY","eventToPoint","points","isTouchDevice","passive","capture","touches","numTouches","thisTouch","multitouch","preventDefault","initialDistance","initialRotation","isGesture","firstTouch","secondTouch","updatePoint","newDistance","newRotation","updateOnMove","isMouseDevice","mouse","getFirstTouch","pointer","index$1","applyXOffset_1","applyYOffset_1","delta_1","chain","playCurrent","crossfade","balance","fadable","va","vb","setBalance","delay","timeToDelay","timeout","clearTimeout","merge","thisAction","scheduler","schedulee","latest","schedulerSub","scheduleeSub","stagger","interval","intervalIsNumber","actionsWithDelay","clamp","conditional","check","interpolate","inputLength","interpolator","fastInterpolate","lastInputIndex","mixerIndex","foundMixerIndex","slowInterpolate","blendArray","blendColor","strength","previousValue","currentFramestamp","newValue","snap","i_1","numPoints_1","lastDistance","generateStaticSpring","nonlinearSpring","linearSpring","wrap","appendUnit","st","transformMap","childTransformers","childTransformer","css"],"mappings":"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","file":"nick.vendors~main.js","sourcesContent":["/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n\r\nvar __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\n\nvar clamp = function (min, max) { return function (v) {\r\n    return Math.max(Math.min(v, max), min);\r\n}; };\r\nvar sanitize = function (v) { return (v % 1 ? Number(v.toFixed(5)) : v); };\r\nvar floatRegex = /(-)?(\\d[\\d\\.]*)/g;\r\nvar colorRegex = /(#[0-9a-f]{6}|#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\\((-?\\d+%?[,\\s]+){2,3}\\s*[\\d\\.]+%?\\))/gi;\r\nvar singleColorRegex = /^(#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\\((-?\\d+%?[,\\s]+){2,3}\\s*[\\d\\.]+%?\\))$/i;\n\nvar number = {\r\n    test: function (v) { return typeof v === 'number'; },\r\n    parse: parseFloat,\r\n    transform: function (v) { return v; }\r\n};\r\nvar alpha = __assign(__assign({}, number), { transform: clamp(0, 1) });\r\nvar scale = __assign(__assign({}, number), { default: 1 });\n\nvar createUnitType = function (unit) { return ({\r\n    test: function (v) {\r\n        return typeof v === 'string' && v.endsWith(unit) && v.split(' ').length === 1;\r\n    },\r\n    parse: parseFloat,\r\n    transform: function (v) { return \"\" + v + unit; }\r\n}); };\r\nvar degrees = createUnitType('deg');\r\nvar percent = createUnitType('%');\r\nvar px = createUnitType('px');\r\nvar vh = createUnitType('vh');\r\nvar vw = createUnitType('vw');\r\nvar progressPercentage = __assign(__assign({}, percent), { parse: function (v) { return percent.parse(v) / 100; }, transform: function (v) { return percent.transform(v * 100); } });\n\nvar getValueFromFunctionString = function (value) {\r\n    return value.substring(value.indexOf('(') + 1, value.lastIndexOf(')'));\r\n};\r\nvar clampRgbUnit = clamp(0, 255);\r\nvar isRgba = function (v) { return v.red !== undefined; };\r\nvar isHsla = function (v) { return v.hue !== undefined; };\r\nvar splitColorValues = function (terms) {\r\n    return function (v) {\r\n        if (typeof v !== 'string')\r\n            return v;\r\n        var values = {};\r\n        var valuesArray = getValueFromFunctionString(v).split(/,\\s*/);\r\n        for (var i = 0; i < 4; i++) {\r\n            values[terms[i]] =\r\n                valuesArray[i] !== undefined ? parseFloat(valuesArray[i]) : 1;\r\n        }\r\n        return values;\r\n    };\r\n};\r\nvar rgbaTemplate = function (_a) {\r\n    var red = _a.red, green = _a.green, blue = _a.blue, _b = _a.alpha, alpha$$1 = _b === void 0 ? 1 : _b;\r\n    return \"rgba(\" + red + \", \" + green + \", \" + blue + \", \" + alpha$$1 + \")\";\r\n};\r\nvar hslaTemplate = function (_a) {\r\n    var hue = _a.hue, saturation = _a.saturation, lightness = _a.lightness, _b = _a.alpha, alpha$$1 = _b === void 0 ? 1 : _b;\r\n    return \"hsla(\" + hue + \", \" + saturation + \", \" + lightness + \", \" + alpha$$1 + \")\";\r\n};\r\nvar rgbUnit = __assign(__assign({}, number), { transform: function (v) { return Math.round(clampRgbUnit(v)); } });\r\nfunction isColorString(color, colorType) {\r\n    return color.startsWith(colorType) && singleColorRegex.test(color);\r\n}\r\nvar rgba = {\r\n    test: function (v) { return (typeof v === 'string' ? isColorString(v, 'rgb') : isRgba(v)); },\r\n    parse: splitColorValues(['red', 'green', 'blue', 'alpha']),\r\n    transform: function (_a) {\r\n        var red = _a.red, green = _a.green, blue = _a.blue, _b = _a.alpha, alpha$$1 = _b === void 0 ? 1 : _b;\r\n        return rgbaTemplate({\r\n            red: rgbUnit.transform(red),\r\n            green: rgbUnit.transform(green),\r\n            blue: rgbUnit.transform(blue),\r\n            alpha: sanitize(alpha.transform(alpha$$1))\r\n        });\r\n    }\r\n};\r\nvar hsla = {\r\n    test: function (v) { return (typeof v === 'string' ? isColorString(v, 'hsl') : isHsla(v)); },\r\n    parse: splitColorValues(['hue', 'saturation', 'lightness', 'alpha']),\r\n    transform: function (_a) {\r\n        var hue = _a.hue, saturation = _a.saturation, lightness = _a.lightness, _b = _a.alpha, alpha$$1 = _b === void 0 ? 1 : _b;\r\n        return hslaTemplate({\r\n            hue: Math.round(hue),\r\n            saturation: percent.transform(sanitize(saturation)),\r\n            lightness: percent.transform(sanitize(lightness)),\r\n            alpha: sanitize(alpha.transform(alpha$$1))\r\n        });\r\n    }\r\n};\r\nvar hex = __assign(__assign({}, rgba), { test: function (v) { return typeof v === 'string' && isColorString(v, '#'); }, parse: function (v) {\r\n        var r = '';\r\n        var g = '';\r\n        var b = '';\r\n        if (v.length > 4) {\r\n            r = v.substr(1, 2);\r\n            g = v.substr(3, 2);\r\n            b = v.substr(5, 2);\r\n        }\r\n        else {\r\n            r = v.substr(1, 1);\r\n            g = v.substr(2, 1);\r\n            b = v.substr(3, 1);\r\n            r += r;\r\n            g += g;\r\n            b += b;\r\n        }\r\n        return {\r\n            red: parseInt(r, 16),\r\n            green: parseInt(g, 16),\r\n            blue: parseInt(b, 16),\r\n            alpha: 1\r\n        };\r\n    } });\r\nvar color = {\r\n    test: function (v) {\r\n        return (typeof v === 'string' && singleColorRegex.test(v)) ||\r\n            isRgba(v) ||\r\n            isHsla(v);\r\n    },\r\n    parse: function (v) {\r\n        if (rgba.test(v)) {\r\n            return rgba.parse(v);\r\n        }\r\n        else if (hsla.test(v)) {\r\n            return hsla.parse(v);\r\n        }\r\n        else if (hex.test(v)) {\r\n            return hex.parse(v);\r\n        }\r\n        return v;\r\n    },\r\n    transform: function (v) {\r\n        if (isRgba(v)) {\r\n            return rgba.transform(v);\r\n        }\r\n        else if (isHsla(v)) {\r\n            return hsla.transform(v);\r\n        }\r\n        return v;\r\n    }\r\n};\n\nvar COLOR_TOKEN = '${c}';\r\nvar NUMBER_TOKEN = '${n}';\r\nvar convertNumbersToZero = function (v) {\r\n    return typeof v === 'number' ? 0 : v;\r\n};\r\nvar complex = {\r\n    test: function (v) {\r\n        if (typeof v !== 'string' || !isNaN(v))\r\n            return false;\r\n        var numValues = 0;\r\n        var foundNumbers = v.match(floatRegex);\r\n        var foundColors = v.match(colorRegex);\r\n        if (foundNumbers)\r\n            numValues += foundNumbers.length;\r\n        if (foundColors)\r\n            numValues += foundColors.length;\r\n        return numValues > 0;\r\n    },\r\n    parse: function (v) {\r\n        var input = v;\r\n        var parsed = [];\r\n        var foundColors = input.match(colorRegex);\r\n        if (foundColors) {\r\n            input = input.replace(colorRegex, COLOR_TOKEN);\r\n            parsed.push.apply(parsed, foundColors.map(color.parse));\r\n        }\r\n        var foundNumbers = input.match(floatRegex);\r\n        if (foundNumbers) {\r\n            parsed.push.apply(parsed, foundNumbers.map(number.parse));\r\n        }\r\n        return parsed;\r\n    },\r\n    createTransformer: function (prop) {\r\n        var template = prop;\r\n        var token = 0;\r\n        var foundColors = prop.match(colorRegex);\r\n        var numColors = foundColors ? foundColors.length : 0;\r\n        if (foundColors) {\r\n            for (var i = 0; i < numColors; i++) {\r\n                template = template.replace(foundColors[i], COLOR_TOKEN);\r\n                token++;\r\n            }\r\n        }\r\n        var foundNumbers = template.match(floatRegex);\r\n        var numNumbers = foundNumbers ? foundNumbers.length : 0;\r\n        if (foundNumbers) {\r\n            for (var i = 0; i < numNumbers; i++) {\r\n                template = template.replace(foundNumbers[i], NUMBER_TOKEN);\r\n                token++;\r\n            }\r\n        }\r\n        return function (v) {\r\n            var output = template;\r\n            for (var i = 0; i < token; i++) {\r\n                output = output.replace(i < numColors ? COLOR_TOKEN : NUMBER_TOKEN, i < numColors ? color.transform(v[i]) : sanitize(v[i]));\r\n            }\r\n            return output;\r\n        };\r\n    },\r\n    getAnimatableNone: function (target) {\r\n        var parsedTarget = complex.parse(target);\r\n        var targetTransformer = complex.createTransformer(target);\r\n        return targetTransformer(parsedTarget.map(convertNumbersToZero));\r\n    }\r\n};\n\nexport { number, scale, alpha, degrees, percent, progressPercentage, px, vw, vh, rgba, rgbUnit, hsla, hex, color, complex };\n","import { invariant } from 'hey-listen';\n\nvar prevTime = 0;\r\nvar onNextFrame = typeof window !== 'undefined' && window.requestAnimationFrame !== undefined\r\n    ? function (callback) { return window.requestAnimationFrame(callback); }\r\n    : function (callback) {\r\n        var timestamp = Date.now();\r\n        var timeToCall = Math.max(0, 16.7 - (timestamp - prevTime));\r\n        prevTime = timestamp + timeToCall;\r\n        setTimeout(function () { return callback(prevTime); }, timeToCall);\r\n    };\n\nvar createStep = (function (setRunNextFrame) {\r\n    var processToRun = [];\r\n    var processToRunNextFrame = [];\r\n    var numThisFrame = 0;\r\n    var isProcessing = false;\r\n    var i = 0;\r\n    var cancelled = new WeakSet();\r\n    var toKeepAlive = new WeakSet();\r\n    var renderStep = {\r\n        cancel: function (process) {\r\n            var indexOfCallback = processToRunNextFrame.indexOf(process);\r\n            cancelled.add(process);\r\n            if (indexOfCallback !== -1) {\r\n                processToRunNextFrame.splice(indexOfCallback, 1);\r\n            }\r\n        },\r\n        process: function (frame) {\r\n            var _a;\r\n            isProcessing = true;\r\n            _a = [\r\n                processToRunNextFrame,\r\n                processToRun\r\n            ], processToRun = _a[0], processToRunNextFrame = _a[1];\r\n            processToRunNextFrame.length = 0;\r\n            numThisFrame = processToRun.length;\r\n            if (numThisFrame) {\r\n                var process_1;\r\n                for (i = 0; i < numThisFrame; i++) {\r\n                    process_1 = processToRun[i];\r\n                    process_1(frame);\r\n                    if (toKeepAlive.has(process_1) === true && !cancelled.has(process_1)) {\r\n                        renderStep.schedule(process_1);\r\n                        setRunNextFrame(true);\r\n                    }\r\n                }\r\n            }\r\n            isProcessing = false;\r\n        },\r\n        schedule: function (process, keepAlive, immediate) {\r\n            if (keepAlive === void 0) { keepAlive = false; }\r\n            if (immediate === void 0) { immediate = false; }\r\n            invariant(typeof process === 'function', 'Argument must be a function');\r\n            var addToCurrentBuffer = immediate && isProcessing;\r\n            var buffer = addToCurrentBuffer ? processToRun : processToRunNextFrame;\r\n            cancelled.delete(process);\r\n            if (keepAlive)\r\n                toKeepAlive.add(process);\r\n            if (buffer.indexOf(process) === -1) {\r\n                buffer.push(process);\r\n                if (addToCurrentBuffer)\r\n                    numThisFrame = processToRun.length;\r\n            }\r\n        }\r\n    };\r\n    return renderStep;\r\n});\n\nvar StepId;\r\n(function (StepId) {\r\n    StepId[\"Read\"] = \"read\";\r\n    StepId[\"Update\"] = \"update\";\r\n    StepId[\"Render\"] = \"render\";\r\n    StepId[\"PostRender\"] = \"postRender\";\r\n    StepId[\"FixedUpdate\"] = \"fixedUpdate\";\r\n})(StepId || (StepId = {}));\n\nvar maxElapsed = 40;\r\nvar defaultElapsed = (1 / 60) * 1000;\r\nvar useDefaultElapsed = true;\r\nvar willRunNextFrame = false;\r\nvar isProcessing = false;\r\nvar frame = {\r\n    delta: 0,\r\n    timestamp: 0\r\n};\r\nvar stepsOrder = [\r\n    StepId.Read,\r\n    StepId.Update,\r\n    StepId.Render,\r\n    StepId.PostRender\r\n];\r\nvar setWillRunNextFrame = function (willRun) { return (willRunNextFrame = willRun); };\r\nvar _a = stepsOrder.reduce(function (acc, key) {\r\n    var step = createStep(setWillRunNextFrame);\r\n    acc.sync[key] = function (process, keepAlive, immediate) {\r\n        if (keepAlive === void 0) { keepAlive = false; }\r\n        if (immediate === void 0) { immediate = false; }\r\n        if (!willRunNextFrame)\r\n            startLoop();\r\n        step.schedule(process, keepAlive, immediate);\r\n        return process;\r\n    };\r\n    acc.cancelSync[key] = function (process) { return step.cancel(process); };\r\n    acc.steps[key] = step;\r\n    return acc;\r\n}, {\r\n    steps: {},\r\n    sync: {},\r\n    cancelSync: {}\r\n}), steps = _a.steps, sync = _a.sync, cancelSync = _a.cancelSync;\r\nvar processStep = function (stepId) { return steps[stepId].process(frame); };\r\nvar processFrame = function (timestamp) {\r\n    willRunNextFrame = false;\r\n    frame.delta = useDefaultElapsed\r\n        ? defaultElapsed\r\n        : Math.max(Math.min(timestamp - frame.timestamp, maxElapsed), 1);\r\n    if (!useDefaultElapsed)\r\n        defaultElapsed = frame.delta;\r\n    frame.timestamp = timestamp;\r\n    isProcessing = true;\r\n    stepsOrder.forEach(processStep);\r\n    isProcessing = false;\r\n    if (willRunNextFrame) {\r\n        useDefaultElapsed = false;\r\n        onNextFrame(processFrame);\r\n    }\r\n};\r\nvar startLoop = function () {\r\n    willRunNextFrame = true;\r\n    useDefaultElapsed = true;\r\n    if (!isProcessing)\r\n        onNextFrame(processFrame);\r\n};\r\nvar getFrameData = function () { return frame; };\n\nexport default sync;\nexport { cancelSync, getFrameData };\n","var DEFAULT_OVERSHOOT_STRENGTH = 1.525;\nvar reversed = function (easing) {\n    return function (p) {\n        return 1 - easing(1 - p);\n    };\n};\nvar mirrored = function (easing) {\n    return function (p) {\n        return p <= 0.5 ? easing(2 * p) / 2 : (2 - easing(2 * (1 - p))) / 2;\n    };\n};\nvar createReversedEasing = reversed;\nvar createMirroredEasing = mirrored;\nvar createExpoIn = function (power) {\n    return function (p) {\n        return Math.pow(p, power);\n    };\n};\nvar createBackIn = function (power) {\n    return function (p) {\n        return p * p * ((power + 1) * p - power);\n    };\n};\nvar createAnticipateEasing = function (power) {\n    var backEasing = createBackIn(power);\n    return function (p) {\n        return (p *= 2) < 1 ? 0.5 * backEasing(p) : 0.5 * (2 - Math.pow(2, -10 * (p - 1)));\n    };\n};\nvar linear = function (p) {\n    return p;\n};\nvar easeIn = /*#__PURE__*/createExpoIn(2);\nvar easeOut = /*#__PURE__*/reversed(easeIn);\nvar easeInOut = /*#__PURE__*/mirrored(easeIn);\nvar circIn = function (p) {\n    return 1 - Math.sin(Math.acos(p));\n};\nvar circOut = /*#__PURE__*/reversed(circIn);\nvar circInOut = /*#__PURE__*/mirrored(circOut);\nvar backIn = /*#__PURE__*/createBackIn(DEFAULT_OVERSHOOT_STRENGTH);\nvar backOut = /*#__PURE__*/reversed(backIn);\nvar backInOut = /*#__PURE__*/mirrored(backIn);\nvar anticipate = /*#__PURE__*/createAnticipateEasing(DEFAULT_OVERSHOOT_STRENGTH);\nvar BOUNCE_FIRST_THRESHOLD = 4.0 / 11.0;\nvar BOUNCE_SECOND_THRESHOLD = 8.0 / 11.0;\nvar BOUNCE_THIRD_THRESHOLD = 9.0 / 10.0;\nvar ca = 4356.0 / 361.0;\nvar cb = 35442.0 / 1805.0;\nvar cc = 16061.0 / 1805.0;\nvar bounceOut = function (p) {\n    var p2 = p * p;\n    return p < BOUNCE_FIRST_THRESHOLD ? 7.5625 * p2 : p < BOUNCE_SECOND_THRESHOLD ? 9.075 * p2 - 9.9 * p + 3.4 : p < BOUNCE_THIRD_THRESHOLD ? ca * p2 - cb * p + cc : 10.8 * p * p - 20.52 * p + 10.72;\n};\nvar bounceIn = function (p) {\n    return 1.0 - bounceOut(1.0 - p);\n};\nvar bounceInOut = function (p) {\n    return p < 0.5 ? 0.5 * (1.0 - bounceOut(1.0 - p * 2.0)) : 0.5 * bounceOut(p * 2.0 - 1.0) + 0.5;\n};\nvar NEWTON_ITERATIONS = 8;\nvar NEWTON_MIN_SLOPE = 0.001;\nvar SUBDIVISION_PRECISION = 0.0000001;\nvar SUBDIVISION_MAX_ITERATIONS = 10;\nvar K_SPLINE_TABLE_SIZE = 11;\nvar K_SAMPLE_STEP_SIZE = 1.0 / (K_SPLINE_TABLE_SIZE - 1.0);\nvar FLOAT_32_SUPPORTED = typeof Float32Array !== 'undefined';\nvar a = function (a1, a2) {\n    return 1.0 - 3.0 * a2 + 3.0 * a1;\n};\nvar b = function (a1, a2) {\n    return 3.0 * a2 - 6.0 * a1;\n};\nvar c = function (a1) {\n    return 3.0 * a1;\n};\nvar getSlope = function (t, a1, a2) {\n    return 3.0 * a(a1, a2) * t * t + 2.0 * b(a1, a2) * t + c(a1);\n};\nvar calcBezier = function (t, a1, a2) {\n    return ((a(a1, a2) * t + b(a1, a2)) * t + c(a1)) * t;\n};\nfunction cubicBezier(mX1, mY1, mX2, mY2) {\n    var sampleValues = FLOAT_32_SUPPORTED ? new Float32Array(K_SPLINE_TABLE_SIZE) : new Array(K_SPLINE_TABLE_SIZE);\n    var binarySubdivide = function (aX, aA, aB) {\n        var i = 0;\n        var currentX;\n        var currentT;\n        do {\n            currentT = aA + (aB - aA) / 2.0;\n            currentX = calcBezier(currentT, mX1, mX2) - aX;\n            if (currentX > 0.0) {\n                aB = currentT;\n            } else {\n                aA = currentT;\n            }\n        } while (Math.abs(currentX) > SUBDIVISION_PRECISION && ++i < SUBDIVISION_MAX_ITERATIONS);\n        return currentT;\n    };\n    var newtonRaphsonIterate = function (aX, aGuessT) {\n        var i = 0;\n        var currentSlope = 0;\n        var currentX;\n        for (; i < NEWTON_ITERATIONS; ++i) {\n            currentSlope = getSlope(aGuessT, mX1, mX2);\n            if (currentSlope === 0.0) {\n                return aGuessT;\n            }\n            currentX = calcBezier(aGuessT, mX1, mX2) - aX;\n            aGuessT -= currentX / currentSlope;\n        }\n        return aGuessT;\n    };\n    var calcSampleValues = function () {\n        for (var i = 0; i < K_SPLINE_TABLE_SIZE; ++i) {\n            sampleValues[i] = calcBezier(i * K_SAMPLE_STEP_SIZE, mX1, mX2);\n        }\n    };\n    var getTForX = function (aX) {\n        var intervalStart = 0.0;\n        var currentSample = 1;\n        var lastSample = K_SPLINE_TABLE_SIZE - 1;\n        var dist = 0.0;\n        var guessForT = 0.0;\n        var initialSlope = 0.0;\n        for (; currentSample !== lastSample && sampleValues[currentSample] <= aX; ++currentSample) {\n            intervalStart += K_SAMPLE_STEP_SIZE;\n        }\n        --currentSample;\n        dist = (aX - sampleValues[currentSample]) / (sampleValues[currentSample + 1] - sampleValues[currentSample]);\n        guessForT = intervalStart + dist * K_SAMPLE_STEP_SIZE;\n        initialSlope = getSlope(guessForT, mX1, mX2);\n        if (initialSlope >= NEWTON_MIN_SLOPE) {\n            return newtonRaphsonIterate(aX, guessForT);\n        } else if (initialSlope === 0.0) {\n            return guessForT;\n        } else {\n            return binarySubdivide(aX, intervalStart, intervalStart + K_SAMPLE_STEP_SIZE);\n        }\n    };\n    calcSampleValues();\n    var resolver = function (aX) {\n        var returnValue;\n        if (mX1 === mY1 && mX2 === mY2) {\n            returnValue = aX;\n        } else if (aX === 0) {\n            returnValue = 0;\n        } else if (aX === 1) {\n            returnValue = 1;\n        } else {\n            returnValue = calcBezier(getTForX(aX), mY1, mY2);\n        }\n        return returnValue;\n    };\n    return resolver;\n}\n\nexport { reversed, mirrored, createReversedEasing, createMirroredEasing, createExpoIn, createBackIn, createAnticipateEasing, linear, easeIn, easeOut, easeInOut, circIn, circOut, circInOut, backIn, backOut, backInOut, anticipate, bounceOut, bounceIn, bounceInOut, cubicBezier };\n","import { hsla, rgba, hex, color, complex } from 'style-value-types';\nimport { invariant } from 'hey-listen';\nimport { getFrameData } from 'framesync';\nimport { createAnticipateEasing, createBackIn, createExpoIn, cubicBezier, linear, easeIn, easeOut, easeInOut, circIn, circOut, circInOut, backIn, backOut, backInOut, anticipate, reversed, mirrored } from '@popmotion/easing';\nexport { createAnticipateEasing, createBackIn, createExpoIn, cubicBezier, linear, easeIn, easeOut, easeInOut, circIn, circOut, circInOut, backIn, backOut, backInOut, anticipate, reversed, mirrored } from '@popmotion/easing';\n\nvar zeroPoint = {\r\n    x: 0,\r\n    y: 0,\r\n    z: 0\r\n};\r\nvar isNum = function (v) { return typeof v === 'number'; };\n\nvar radiansToDegrees = (function (radians) { return (radians * 180) / Math.PI; });\n\nvar angle = (function (a, b) {\r\n    if (b === void 0) { b = zeroPoint; }\r\n    return radiansToDegrees(Math.atan2(b.y - a.y, b.x - a.x));\r\n});\n\nvar applyOffset = (function (from, to) {\r\n    var hasReceivedFrom = true;\r\n    if (to === undefined) {\r\n        to = from;\r\n        hasReceivedFrom = false;\r\n    }\r\n    return function (v) {\r\n        if (hasReceivedFrom) {\r\n            return v - from + to;\r\n        }\r\n        else {\r\n            from = v;\r\n            hasReceivedFrom = true;\r\n            return to;\r\n        }\r\n    };\r\n});\n\nvar curryRange = (function (func) { return function (min, max, v) { return (v !== undefined ? func(min, max, v) : function (cv) { return func(min, max, cv); }); }; });\n\nvar clamp = function (min, max, v) {\r\n    return Math.min(Math.max(v, min), max);\r\n};\r\nvar clamp$1 = curryRange(clamp);\n\nvar conditional = (function (check, apply) { return function (v) {\r\n    return check(v) ? apply(v) : v;\r\n}; });\n\nvar degreesToRadians = (function (degrees) { return (degrees * Math.PI) / 180; });\n\nvar isPoint = (function (point) {\r\n    return point.hasOwnProperty('x') && point.hasOwnProperty('y');\r\n});\n\nvar isPoint3D = (function (point) {\r\n    return isPoint(point) && point.hasOwnProperty('z');\r\n});\n\nvar distance1D = function (a, b) { return Math.abs(a - b); };\r\nvar distance = (function (a, b) {\r\n    if (b === void 0) { b = zeroPoint; }\r\n    if (isNum(a) && isNum(b)) {\r\n        return distance1D(a, b);\r\n    }\r\n    else if (isPoint(a) && isPoint(b)) {\r\n        var xDelta = distance1D(a.x, b.x);\r\n        var yDelta = distance1D(a.y, b.y);\r\n        var zDelta = isPoint3D(a) && isPoint3D(b) ? distance1D(a.z, b.z) : 0;\r\n        return Math.sqrt(Math.pow(xDelta, 2) + Math.pow(yDelta, 2) + Math.pow(zDelta, 2));\r\n    }\r\n    return 0;\r\n});\n\nvar progress = (function (from, to, value) {\r\n    var toFromDifference = to - from;\r\n    return toFromDifference === 0 ? 1 : (value - from) / toFromDifference;\r\n});\n\nvar mix = (function (from, to, progress) {\r\n    return -progress * from + progress * to + from;\r\n});\n\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n\r\nvar __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\n\nvar mixLinearColor = function (from, to, v) {\r\n    var fromExpo = from * from;\r\n    var toExpo = to * to;\r\n    return Math.sqrt(Math.max(0, v * (toExpo - fromExpo) + fromExpo));\r\n};\r\nvar colorTypes = [hex, rgba, hsla];\r\nvar getColorType = function (v) {\r\n    return colorTypes.find(function (type) { return type.test(v); });\r\n};\r\nvar notAnimatable = function (color$$1) {\r\n    return \"'\" + color$$1 + \"' is not an animatable color. Use the equivalent color code instead.\";\r\n};\r\nvar mixColor = (function (from, to) {\r\n    var fromColorType = getColorType(from);\r\n    var toColorType = getColorType(to);\r\n    invariant(!!fromColorType, notAnimatable(from));\r\n    invariant(!!toColorType, notAnimatable(to));\r\n    invariant(fromColorType.transform === toColorType.transform, 'Both colors must be hex/RGBA, OR both must be HSLA.');\r\n    var fromColor = fromColorType.parse(from);\r\n    var toColor = toColorType.parse(to);\r\n    var blended = __assign({}, fromColor);\r\n    var mixFunc = fromColorType === hsla ? mix : mixLinearColor;\r\n    return function (v) {\r\n        for (var key in blended) {\r\n            if (key !== 'alpha') {\r\n                blended[key] = mixFunc(fromColor[key], toColor[key], v);\r\n            }\r\n        }\r\n        blended.alpha = mix(fromColor.alpha, toColor.alpha, v);\r\n        return fromColorType.transform(blended);\r\n    };\r\n});\n\nvar combineFunctions = function (a, b) { return function (v) { return b(a(v)); }; };\r\nvar pipe = (function () {\r\n    var transformers = [];\r\n    for (var _i = 0; _i < arguments.length; _i++) {\r\n        transformers[_i] = arguments[_i];\r\n    }\r\n    return transformers.reduce(combineFunctions);\r\n});\n\nfunction getMixer(origin, target) {\r\n    if (isNum(origin)) {\r\n        return function (v) { return mix(origin, target, v); };\r\n    }\r\n    else if (color.test(origin)) {\r\n        return mixColor(origin, target);\r\n    }\r\n    else {\r\n        return mixComplex(origin, target);\r\n    }\r\n}\r\nvar mixArray = function (from, to) {\r\n    var output = from.slice();\r\n    var numValues = output.length;\r\n    var blendValue = from.map(function (fromThis, i) { return getMixer(fromThis, to[i]); });\r\n    return function (v) {\r\n        for (var i = 0; i < numValues; i++) {\r\n            output[i] = blendValue[i](v);\r\n        }\r\n        return output;\r\n    };\r\n};\r\nvar mixObject = function (origin, target) {\r\n    var output = __assign({}, origin, target);\r\n    var blendValue = {};\r\n    for (var key in output) {\r\n        if (origin[key] !== undefined && target[key] !== undefined) {\r\n            blendValue[key] = getMixer(origin[key], target[key]);\r\n        }\r\n    }\r\n    return function (v) {\r\n        for (var key in blendValue) {\r\n            output[key] = blendValue[key](v);\r\n        }\r\n        return output;\r\n    };\r\n};\r\nfunction analyse(value) {\r\n    var parsed = complex.parse(value);\r\n    var numValues = parsed.length;\r\n    var numNumbers = 0;\r\n    var numRGB = 0;\r\n    var numHSL = 0;\r\n    for (var i = 0; i < numValues; i++) {\r\n        if (numNumbers || typeof parsed[i] === 'number') {\r\n            numNumbers++;\r\n        }\r\n        else {\r\n            if (parsed[i].hue !== undefined) {\r\n                numHSL++;\r\n            }\r\n            else {\r\n                numRGB++;\r\n            }\r\n        }\r\n    }\r\n    return { parsed: parsed, numNumbers: numNumbers, numRGB: numRGB, numHSL: numHSL };\r\n}\r\nvar mixComplex = function (origin, target) {\r\n    var template = complex.createTransformer(target);\r\n    var originStats = analyse(origin);\r\n    var targetStats = analyse(target);\r\n    invariant(originStats.numHSL === targetStats.numHSL &&\r\n        originStats.numRGB === targetStats.numRGB &&\r\n        originStats.numNumbers >= targetStats.numNumbers, \"Complex values '\" + origin + \"' and '\" + target + \"' too different to mix. Ensure all colors are of the same type.\");\r\n    return pipe(mixArray(originStats.parsed, targetStats.parsed), template);\r\n};\n\nvar mixNumber = function (from, to) { return function (p) { return mix(from, to, p); }; };\r\nfunction detectMixerFactory(v) {\r\n    if (typeof v === 'number') {\r\n        return mixNumber;\r\n    }\r\n    else if (typeof v === 'string') {\r\n        if (color.test(v)) {\r\n            return mixColor;\r\n        }\r\n        else {\r\n            return mixComplex;\r\n        }\r\n    }\r\n    else if (Array.isArray(v)) {\r\n        return mixArray;\r\n    }\r\n    else if (typeof v === 'object') {\r\n        return mixObject;\r\n    }\r\n}\r\nfunction createMixers(output, ease, customMixer) {\r\n    var mixers = [];\r\n    var mixerFactory = customMixer || detectMixerFactory(output[0]);\r\n    var numMixers = output.length - 1;\r\n    for (var i = 0; i < numMixers; i++) {\r\n        var mixer = mixerFactory(output[i], output[i + 1]);\r\n        if (ease) {\r\n            var easingFunction = Array.isArray(ease) ? ease[i] : ease;\r\n            mixer = pipe(easingFunction, mixer);\r\n        }\r\n        mixers.push(mixer);\r\n    }\r\n    return mixers;\r\n}\r\nfunction fastInterpolate(_a, _b) {\r\n    var from = _a[0], to = _a[1];\r\n    var mixer = _b[0];\r\n    return function (v) { return mixer(progress(from, to, v)); };\r\n}\r\nfunction slowInterpolate(input, mixers) {\r\n    var inputLength = input.length;\r\n    var lastInputIndex = inputLength - 1;\r\n    return function (v) {\r\n        var mixerIndex = 0;\r\n        var foundMixerIndex = false;\r\n        if (v <= input[0]) {\r\n            foundMixerIndex = true;\r\n        }\r\n        else if (v >= input[lastInputIndex]) {\r\n            mixerIndex = lastInputIndex - 1;\r\n            foundMixerIndex = true;\r\n        }\r\n        if (!foundMixerIndex) {\r\n            var i = 1;\r\n            for (; i < inputLength; i++) {\r\n                if (input[i] > v || i === lastInputIndex) {\r\n                    break;\r\n                }\r\n            }\r\n            mixerIndex = i - 1;\r\n        }\r\n        var progressInRange = progress(input[mixerIndex], input[mixerIndex + 1], v);\r\n        return mixers[mixerIndex](progressInRange);\r\n    };\r\n}\r\nfunction interpolate(input, output, _a) {\r\n    var _b = _a === void 0 ? {} : _a, _c = _b.clamp, clamp = _c === void 0 ? true : _c, ease = _b.ease, mixer = _b.mixer;\r\n    var inputLength = input.length;\r\n    invariant(inputLength === output.length, 'Both input and output ranges must be the same length');\r\n    invariant(!ease || !Array.isArray(ease) || ease.length === inputLength - 1, 'Array of easing functions must be of length `input.length - 1`, as it applies to the transitions **between** the defined values.');\r\n    if (input[0] > input[inputLength - 1]) {\r\n        input = [].concat(input);\r\n        output = [].concat(output);\r\n        input.reverse();\r\n        output.reverse();\r\n    }\r\n    var mixers = createMixers(output, ease, mixer);\r\n    var interpolator = inputLength === 2\r\n        ? fastInterpolate(input, mixers)\r\n        : slowInterpolate(input, mixers);\r\n    return clamp\r\n        ? pipe(clamp$1(input[0], input[inputLength - 1]), interpolator)\r\n        : interpolator;\r\n}\n\nvar pointFromVector = (function (origin, angle, distance) {\r\n    angle = degreesToRadians(angle);\r\n    return {\r\n        x: distance * Math.cos(angle) + origin.x,\r\n        y: distance * Math.sin(angle) + origin.y\r\n    };\r\n});\n\nvar toDecimal = (function (num, precision) {\r\n    if (precision === void 0) { precision = 2; }\r\n    precision = Math.pow(10, precision);\r\n    return Math.round(num * precision) / precision;\r\n});\n\nvar smoothFrame = (function (prevValue, nextValue, duration, smoothing) {\r\n    if (smoothing === void 0) { smoothing = 0; }\r\n    return toDecimal(prevValue +\r\n        (duration * (nextValue - prevValue)) / Math.max(smoothing, duration));\r\n});\n\nvar smooth = (function (strength) {\r\n    if (strength === void 0) { strength = 50; }\r\n    var previousValue = 0;\r\n    var lastUpdated = 0;\r\n    return function (v) {\r\n        var currentFramestamp = getFrameData().timestamp;\r\n        var timeDelta = currentFramestamp !== lastUpdated ? currentFramestamp - lastUpdated : 0;\r\n        var newValue = timeDelta\r\n            ? smoothFrame(previousValue, v, timeDelta, strength)\r\n            : previousValue;\r\n        lastUpdated = currentFramestamp;\r\n        previousValue = newValue;\r\n        return newValue;\r\n    };\r\n});\n\nvar snap = (function (points) {\r\n    if (typeof points === 'number') {\r\n        return function (v) { return Math.round(v / points) * points; };\r\n    }\r\n    else {\r\n        var i_1 = 0;\r\n        var numPoints_1 = points.length;\r\n        return function (v) {\r\n            var lastDistance = Math.abs(points[0] - v);\r\n            for (i_1 = 1; i_1 < numPoints_1; i_1++) {\r\n                var point = points[i_1];\r\n                var distance = Math.abs(point - v);\r\n                if (distance === 0)\r\n                    return point;\r\n                if (distance > lastDistance)\r\n                    return points[i_1 - 1];\r\n                if (i_1 === numPoints_1 - 1)\r\n                    return point;\r\n                lastDistance = distance;\r\n            }\r\n        };\r\n    }\r\n});\n\nvar identity = function (v) { return v; };\r\nvar springForce = function (alterDisplacement) {\r\n    if (alterDisplacement === void 0) { alterDisplacement = identity; }\r\n    return curryRange(function (constant, origin, v) {\r\n        var displacement = origin - v;\r\n        var springModifiedDisplacement = -(0 - constant + 1) * (0 - alterDisplacement(Math.abs(displacement)));\r\n        return displacement <= 0\r\n            ? origin + springModifiedDisplacement\r\n            : origin - springModifiedDisplacement;\r\n    });\r\n};\r\nvar springForceLinear = springForce();\r\nvar springForceExpo = springForce(Math.sqrt);\n\nvar velocityPerFrame = (function (xps, frameDuration) {\r\n    return isNum(xps) ? xps / (1000 / frameDuration) : 0;\r\n});\n\nvar velocityPerSecond = (function (velocity, frameDuration) {\r\n    return frameDuration ? velocity * (1000 / frameDuration) : 0;\r\n});\n\nvar wrap = function (min, max, v) {\r\n    var rangeSize = max - min;\r\n    return ((((v - min) % rangeSize) + rangeSize) % rangeSize) + min;\r\n};\r\nvar wrap$1 = curryRange(wrap);\n\nvar clampProgress = clamp$1(0, 1);\r\nvar steps = (function (steps, direction) {\r\n    if (direction === void 0) { direction = 'end'; }\r\n    return function (progress) {\r\n        progress =\r\n            direction === 'end' ? Math.min(progress, 0.999) : Math.max(progress, 0.001);\r\n        var expanded = progress * steps;\r\n        var rounded = direction === 'end' ? Math.floor(expanded) : Math.ceil(expanded);\r\n        return clampProgress(rounded / steps);\r\n    };\r\n});\n\nexport { angle, applyOffset, clamp$1 as clamp, conditional, degreesToRadians, distance, interpolate, isPoint, isPoint3D, mix, mixArray, mixColor, mixComplex, mixObject, pipe, pointFromVector, progress, radiansToDegrees, smooth, smoothFrame, snap, springForce, springForceExpo, springForceLinear, steps, toDecimal, velocityPerFrame, velocityPerSecond, wrap$1 as wrap };\n","import { __rest, __assign } from 'tslib';\nimport sync from 'framesync';\nimport { number, color, px, degrees, scale, alpha, progressPercentage } from 'style-value-types';\nimport { invariant } from 'hey-listen';\n\nvar createStyler = function (_a) {\n    var onRead = _a.onRead,\n        onRender = _a.onRender,\n        _b = _a.uncachedValues,\n        uncachedValues = _b === void 0 ? new Set() : _b,\n        _c = _a.useCache,\n        useCache = _c === void 0 ? true : _c;\n    return function (_a) {\n        if (_a === void 0) {\n            _a = {};\n        }\n        var props = __rest(_a, []);\n        var state = {};\n        var changedValues = [];\n        var hasChanged = false;\n        function setValue(key, value) {\n            if (key.startsWith('--')) {\n                props.hasCSSVariable = true;\n            }\n            var currentValue = state[key];\n            state[key] = value;\n            if (state[key] === currentValue) return;\n            if (changedValues.indexOf(key) === -1) {\n                changedValues.push(key);\n            }\n            if (!hasChanged) {\n                hasChanged = true;\n                sync.render(styler.render);\n            }\n        }\n        var styler = {\n            get: function (key, forceRead) {\n                if (forceRead === void 0) {\n                    forceRead = false;\n                }\n                var useCached = !forceRead && useCache && !uncachedValues.has(key) && state[key] !== undefined;\n                return useCached ? state[key] : onRead(key, props);\n            },\n            set: function (values, value) {\n                if (typeof values === 'string') {\n                    setValue(values, value);\n                } else {\n                    for (var key in values) {\n                        setValue(key, values[key]);\n                    }\n                }\n                return this;\n            },\n            render: function (forceRender) {\n                if (forceRender === void 0) {\n                    forceRender = false;\n                }\n                if (hasChanged || forceRender === true) {\n                    onRender(state, props, changedValues);\n                    hasChanged = false;\n                    changedValues.length = 0;\n                }\n                return this;\n            }\n        };\n        return styler;\n    };\n};\n\nvar CAMEL_CASE_PATTERN = /([a-z])([A-Z])/g;\nvar REPLACE_TEMPLATE = '$1-$2';\nvar camelToDash = function (str) {\n    return str.replace(CAMEL_CASE_PATTERN, REPLACE_TEMPLATE).toLowerCase();\n};\n\nvar camelCache = /*#__PURE__*/new Map();\nvar dashCache = /*#__PURE__*/new Map();\nvar prefixes = ['Webkit', 'Moz', 'O', 'ms', ''];\nvar numPrefixes = prefixes.length;\nvar isBrowser = typeof document !== 'undefined';\nvar testElement;\nvar setDashPrefix = function (key, prefixed) {\n    return dashCache.set(key, camelToDash(prefixed));\n};\nvar testPrefix = function (key) {\n    testElement = testElement || document.createElement('div');\n    for (var i = 0; i < numPrefixes; i++) {\n        var prefix = prefixes[i];\n        var noPrefix = prefix === '';\n        var prefixedPropertyName = noPrefix ? key : prefix + key.charAt(0).toUpperCase() + key.slice(1);\n        if (prefixedPropertyName in testElement.style || noPrefix) {\n            if (noPrefix && key === 'clipPath' && dashCache.has(key)) {\n                return;\n            }\n            camelCache.set(key, prefixedPropertyName);\n            setDashPrefix(key, \"\" + (noPrefix ? '' : '-') + camelToDash(prefixedPropertyName));\n        }\n    }\n};\nvar setServerProperty = function (key) {\n    return setDashPrefix(key, key);\n};\nvar prefixer = function (key, asDashCase) {\n    if (asDashCase === void 0) {\n        asDashCase = false;\n    }\n    var cache = asDashCase ? dashCache : camelCache;\n    if (!cache.has(key)) {\n        isBrowser ? testPrefix(key) : setServerProperty(key);\n    }\n    return cache.get(key) || key;\n};\n\nvar axes = ['', 'X', 'Y', 'Z'];\nvar order = ['translate', 'scale', 'rotate', 'skew', 'transformPerspective'];\nvar transformProps = /*#__PURE__*/order.reduce(function (acc, key) {\n    return axes.reduce(function (axesAcc, axesKey) {\n        axesAcc.push(key + axesKey);\n        return axesAcc;\n    }, acc);\n}, ['x', 'y', 'z']);\nvar transformPropDictionary = /*#__PURE__*/transformProps.reduce(function (dict, key) {\n    dict[key] = true;\n    return dict;\n}, {});\nfunction isTransformProp(key) {\n    return transformPropDictionary[key] === true;\n}\nfunction sortTransformProps(a, b) {\n    return transformProps.indexOf(a) - transformProps.indexOf(b);\n}\nvar transformOriginProps = /*#__PURE__*/new Set(['originX', 'originY', 'originZ']);\nfunction isTransformOriginProp(key) {\n    return transformOriginProps.has(key);\n}\n\nvar int = /*#__PURE__*/__assign( /*#__PURE__*/__assign({}, number), { transform: Math.round });\nvar valueTypes = {\n    color: color,\n    backgroundColor: color,\n    outlineColor: color,\n    fill: color,\n    stroke: color,\n    borderColor: color,\n    borderTopColor: color,\n    borderRightColor: color,\n    borderBottomColor: color,\n    borderLeftColor: color,\n    borderWidth: px,\n    borderTopWidth: px,\n    borderRightWidth: px,\n    borderBottomWidth: px,\n    borderLeftWidth: px,\n    borderRadius: px,\n    radius: px,\n    borderTopLeftRadius: px,\n    borderTopRightRadius: px,\n    borderBottomRightRadius: px,\n    borderBottomLeftRadius: px,\n    width: px,\n    maxWidth: px,\n    height: px,\n    maxHeight: px,\n    size: px,\n    top: px,\n    right: px,\n    bottom: px,\n    left: px,\n    padding: px,\n    paddingTop: px,\n    paddingRight: px,\n    paddingBottom: px,\n    paddingLeft: px,\n    margin: px,\n    marginTop: px,\n    marginRight: px,\n    marginBottom: px,\n    marginLeft: px,\n    rotate: degrees,\n    rotateX: degrees,\n    rotateY: degrees,\n    rotateZ: degrees,\n    scale: scale,\n    scaleX: scale,\n    scaleY: scale,\n    scaleZ: scale,\n    skew: degrees,\n    skewX: degrees,\n    skewY: degrees,\n    distance: px,\n    translateX: px,\n    translateY: px,\n    translateZ: px,\n    x: px,\n    y: px,\n    z: px,\n    perspective: px,\n    opacity: alpha,\n    originX: progressPercentage,\n    originY: progressPercentage,\n    originZ: px,\n    zIndex: int,\n    fillOpacity: alpha,\n    strokeOpacity: alpha,\n    numOctaves: int\n};\nvar getValueType = function (key) {\n    return valueTypes[key];\n};\nvar getValueAsType = function (value, type) {\n    return type && typeof value === 'number' ? type.transform(value) : value;\n};\n\nvar SCROLL_LEFT = 'scrollLeft';\nvar SCROLL_TOP = 'scrollTop';\nvar scrollKeys = /*#__PURE__*/new Set([SCROLL_LEFT, SCROLL_TOP]);\n\nvar blacklist = /*#__PURE__*/new Set([SCROLL_LEFT, SCROLL_TOP, 'transform']);\nvar translateAlias = {\n    x: 'translateX',\n    y: 'translateY',\n    z: 'translateZ'\n};\nfunction isCustomTemplate(v) {\n    return typeof v === 'function';\n}\nfunction buildTransform(state, transform, transformKeys, transformIsDefault, enableHardwareAcceleration) {\n    var transformString = '';\n    var transformHasZ = false;\n    transformKeys.sort(sortTransformProps);\n    var numTransformKeys = transformKeys.length;\n    for (var i = 0; i < numTransformKeys; i++) {\n        var key = transformKeys[i];\n        transformString += (translateAlias[key] || key) + \"(\" + transform[key] + \") \";\n        transformHasZ = key === 'z' ? true : transformHasZ;\n    }\n    if (!transformHasZ && enableHardwareAcceleration) {\n        transformString += 'translateZ(0)';\n    } else {\n        transformString = transformString.trim();\n    }\n    if (isCustomTemplate(state.transform)) {\n        transformString = state.transform(transform, transformIsDefault ? '' : transformString);\n    } else if (transformIsDefault) {\n        transformString = 'none';\n    }\n    return transformString;\n}\nfunction buildStyleProperty(state, enableHardwareAcceleration, styles, transform, transformOrigin, transformKeys, isDashCase) {\n    if (enableHardwareAcceleration === void 0) {\n        enableHardwareAcceleration = true;\n    }\n    if (styles === void 0) {\n        styles = {};\n    }\n    if (transform === void 0) {\n        transform = {};\n    }\n    if (transformOrigin === void 0) {\n        transformOrigin = {};\n    }\n    if (transformKeys === void 0) {\n        transformKeys = [];\n    }\n    if (isDashCase === void 0) {\n        isDashCase = false;\n    }\n    var transformIsDefault = true;\n    var hasTransform = false;\n    var hasTransformOrigin = false;\n    for (var key in state) {\n        var value = state[key];\n        var valueType = getValueType(key);\n        var valueAsType = getValueAsType(value, valueType);\n        if (isTransformProp(key)) {\n            hasTransform = true;\n            transform[key] = valueAsType;\n            transformKeys.push(key);\n            if (transformIsDefault) {\n                if (valueType.default && value !== valueType.default || !valueType.default && value !== 0) {\n                    transformIsDefault = false;\n                }\n            }\n        } else if (isTransformOriginProp(key)) {\n            transformOrigin[key] = valueAsType;\n            hasTransformOrigin = true;\n        } else if (!blacklist.has(key) || !isCustomTemplate(valueAsType)) {\n            styles[prefixer(key, isDashCase)] = valueAsType;\n        }\n    }\n    if (hasTransform || typeof state.transform === 'function') {\n        styles.transform = buildTransform(state, transform, transformKeys, transformIsDefault, enableHardwareAcceleration);\n    }\n    if (hasTransformOrigin) {\n        styles.transformOrigin = (transformOrigin.originX || '50%') + \" \" + (transformOrigin.originY || '50%') + \" \" + (transformOrigin.originZ || 0);\n    }\n    return styles;\n}\nfunction createStyleBuilder(enableHardwareAcceleration, isDashCase) {\n    if (enableHardwareAcceleration === void 0) {\n        enableHardwareAcceleration = true;\n    }\n    if (isDashCase === void 0) {\n        isDashCase = true;\n    }\n    var styles = {};\n    var transform = {};\n    var transformOrigin = {};\n    var transformKeys = [];\n    return function (state) {\n        transformKeys.length = 0;\n        buildStyleProperty(state, enableHardwareAcceleration, styles, transform, transformOrigin, transformKeys, isDashCase);\n        return styles;\n    };\n}\n\nfunction onRead(key, options) {\n    var element = options.element,\n        preparseOutput = options.preparseOutput;\n    var defaultValueType = getValueType(key);\n    if (isTransformProp(key)) {\n        return defaultValueType ? defaultValueType.default || 0 : 0;\n    } else if (scrollKeys.has(key)) {\n        return element[key];\n    } else {\n        var domValue = window.getComputedStyle(element, null).getPropertyValue(prefixer(key, true)) || 0;\n        return preparseOutput && defaultValueType && defaultValueType.test(domValue) && defaultValueType.parse ? defaultValueType.parse(domValue) : domValue;\n    }\n}\nfunction onRender(state, _a, changedValues) {\n    var element = _a.element,\n        buildStyles = _a.buildStyles,\n        hasCSSVariable = _a.hasCSSVariable;\n    Object.assign(element.style, buildStyles(state));\n    if (hasCSSVariable) {\n        var numChangedValues = changedValues.length;\n        for (var i = 0; i < numChangedValues; i++) {\n            var key = changedValues[i];\n            if (key.startsWith('--')) {\n                element.style.setProperty(key, state[key]);\n            }\n        }\n    }\n    if (changedValues.indexOf(SCROLL_LEFT) !== -1) {\n        element[SCROLL_LEFT] = state[SCROLL_LEFT];\n    }\n    if (changedValues.indexOf(SCROLL_TOP) !== -1) {\n        element[SCROLL_TOP] = state[SCROLL_TOP];\n    }\n}\nvar cssStyler = /*#__PURE__*/createStyler({\n    onRead: onRead,\n    onRender: onRender,\n    uncachedValues: scrollKeys\n});\nfunction createCssStyler(element, _a) {\n    if (_a === void 0) {\n        _a = {};\n    }\n    var enableHardwareAcceleration = _a.enableHardwareAcceleration,\n        props = __rest(_a, [\"enableHardwareAcceleration\"]);\n    return cssStyler(__assign({ element: element, buildStyles: createStyleBuilder(enableHardwareAcceleration), preparseOutput: true }, props));\n}\n\nvar camelCaseAttributes = /*#__PURE__*/new Set(['baseFrequency', 'diffuseConstant', 'kernelMatrix', 'kernelUnitLength', 'keySplines', 'keyTimes', 'limitingConeAngle', 'markerHeight', 'markerWidth', 'numOctaves', 'targetX', 'targetY', 'surfaceScale', 'specularConstant', 'specularExponent', 'stdDeviation', 'tableValues']);\n\nvar defaultOrigin = 0.5;\nvar svgAttrsTemplate = function () {\n    return {\n        style: {}\n    };\n};\nvar progressToPixels = function (progress, length) {\n    return px.transform(progress * length);\n};\nvar unmeasured = { x: 0, y: 0, width: 0, height: 0 };\nfunction calcOrigin(origin, offset, size) {\n    return typeof origin === 'string' ? origin : px.transform(offset + size * origin);\n}\nfunction calculateSVGTransformOrigin(dimensions, originX, originY) {\n    return calcOrigin(originX, dimensions.x, dimensions.width) + \" \" + calcOrigin(originY, dimensions.y, dimensions.height);\n}\nfunction buildSVGAttrs(_a, dimensions, totalPathLength, cssBuilder, attrs, isDashCase) {\n    if (dimensions === void 0) {\n        dimensions = unmeasured;\n    }\n    if (cssBuilder === void 0) {\n        cssBuilder = createStyleBuilder(false, false);\n    }\n    if (attrs === void 0) {\n        attrs = svgAttrsTemplate();\n    }\n    if (isDashCase === void 0) {\n        isDashCase = true;\n    }\n    var attrX = _a.attrX,\n        attrY = _a.attrY,\n        originX = _a.originX,\n        originY = _a.originY,\n        pathLength = _a.pathLength,\n        _b = _a.pathSpacing,\n        pathSpacing = _b === void 0 ? 1 : _b,\n        _c = _a.pathOffset,\n        pathOffset = _c === void 0 ? 0 : _c,\n        state = __rest(_a, [\"attrX\", \"attrY\", \"originX\", \"originY\", \"pathLength\", \"pathSpacing\", \"pathOffset\"]);\n    var style = cssBuilder(state);\n    for (var key in style) {\n        if (key === 'transform') {\n            attrs.style.transform = style[key];\n        } else {\n            var attrKey = isDashCase && !camelCaseAttributes.has(key) ? camelToDash(key) : key;\n            attrs[attrKey] = style[key];\n        }\n    }\n    if (originX !== undefined || originY !== undefined || style.transform) {\n        attrs.style.transformOrigin = calculateSVGTransformOrigin(dimensions, originX !== undefined ? originX : defaultOrigin, originY !== undefined ? originY : defaultOrigin);\n    }\n    if (attrX !== undefined) attrs.x = attrX;\n    if (attrY !== undefined) attrs.y = attrY;\n    if (totalPathLength !== undefined && pathLength !== undefined) {\n        attrs[isDashCase ? 'stroke-dashoffset' : 'strokeDashoffset'] = progressToPixels(-pathOffset, totalPathLength);\n        attrs[isDashCase ? 'stroke-dasharray' : 'strokeDasharray'] = progressToPixels(pathLength, totalPathLength) + \" \" + progressToPixels(pathSpacing, totalPathLength);\n    }\n    return attrs;\n}\nfunction createAttrBuilder(dimensions, totalPathLength, isDashCase) {\n    if (isDashCase === void 0) {\n        isDashCase = true;\n    }\n    var attrs = svgAttrsTemplate();\n    var cssBuilder = createStyleBuilder(false, false);\n    return function (state) {\n        return buildSVGAttrs(state, dimensions, totalPathLength, cssBuilder, attrs, isDashCase);\n    };\n}\n\nvar getDimensions = function (element) {\n    return typeof element.getBBox === 'function' ? element.getBBox() : element.getBoundingClientRect();\n};\nvar getSVGElementDimensions = function (element) {\n    try {\n        return getDimensions(element);\n    } catch (e) {\n        return { x: 0, y: 0, width: 0, height: 0 };\n    }\n};\n\nvar isPath = function (element) {\n    return element.tagName === 'path';\n};\nvar svgStyler = /*#__PURE__*/createStyler({\n    onRead: function (key, _a) {\n        var element = _a.element;\n        key = !camelCaseAttributes.has(key) ? camelToDash(key) : key;\n        if (!isTransformProp(key)) {\n            return element.getAttribute(key);\n        } else {\n            var valueType = getValueType(key);\n            return valueType ? valueType.default || 0 : 0;\n        }\n    },\n    onRender: function (state, _a) {\n        var element = _a.element,\n            buildAttrs = _a.buildAttrs;\n        var attrs = buildAttrs(state);\n        for (var key in attrs) {\n            if (key === 'style') {\n                Object.assign(element.style, attrs.style);\n            } else {\n                element.setAttribute(key, attrs[key]);\n            }\n        }\n    }\n});\nvar svg = function (element) {\n    var dimensions = getSVGElementDimensions(element);\n    var pathLength = isPath(element) && element.getTotalLength ? element.getTotalLength() : undefined;\n    return svgStyler({\n        element: element,\n        buildAttrs: createAttrBuilder(dimensions, pathLength)\n    });\n};\n\nvar viewport = /*#__PURE__*/createStyler({\n    useCache: false,\n    onRead: function (key) {\n        return key === 'scrollTop' ? window.pageYOffset : window.pageXOffset;\n    },\n    onRender: function (_a) {\n        var _b = _a.scrollTop,\n            scrollTop = _b === void 0 ? 0 : _b,\n            _c = _a.scrollLeft,\n            scrollLeft = _c === void 0 ? 0 : _c;\n        return window.scrollTo(scrollLeft, scrollTop);\n    }\n});\n\nvar cache = /*#__PURE__*/new WeakMap();\nvar isHTMLElement = function (node) {\n    return node instanceof HTMLElement || typeof node.click === 'function';\n};\nvar isSVGElement = function (node) {\n    return node instanceof SVGElement || 'ownerSVGElement' in node;\n};\nvar createDOMStyler = function (node, props) {\n    var styler;\n    if (node === window) {\n        styler = viewport(node);\n    } else if (isHTMLElement(node)) {\n        styler = createCssStyler(node, props);\n    } else if (isSVGElement(node)) {\n        styler = svg(node);\n    }\n    invariant(styler !== undefined, 'No valid node provided. Node must be HTMLElement, SVGElement or window.');\n    cache.set(node, styler);\n    return styler;\n};\nvar getStyler = function (node, props) {\n    return cache.has(node) ? cache.get(node) : createDOMStyler(node, props);\n};\nfunction index(nodeOrSelector, props) {\n    var node = typeof nodeOrSelector === 'string' ? document.querySelector(nodeOrSelector) : nodeOrSelector;\n    return getStyler(node, props);\n}\n\nexport default index;\nexport { buildSVGAttrs, buildStyleProperty, createStyler as createStylerFactory, isTransformProp, transformProps };\n","import { __rest, __extends, __assign } from 'tslib';\nimport { pipe, angle, degreesToRadians, distance, isPoint3D, isPoint, mix, pointFromVector, progress, radiansToDegrees, smoothFrame, velocityPerFrame, velocityPerSecond, mixColor, mixComplex, clamp, applyOffset, conditional, interpolate, mixArray, smooth, snap, springForce, springForceExpo, springForceLinear, wrap } from '@popmotion/popcorn';\nimport sync, { getFrameData, cancelSync } from 'framesync';\nimport * as styleValueTypes from 'style-value-types';\nimport { color, complex, percent, degrees, vh, vw, px, number } from 'style-value-types';\nexport { styleValueTypes as valueTypes };\nimport * as easing from '@popmotion/easing';\nimport { linear, createReversedEasing, easeOut, easeInOut } from '@popmotion/easing';\nexport { easing };\nimport styler from 'stylefire';\nexport { default as styler } from 'stylefire';\nimport { warning } from 'hey-listen';\n\nvar Chainable = /*#__PURE__*/function () {\n    function Chainable(props) {\n        if (props === void 0) {\n            props = {};\n        }\n        this.props = props;\n    }\n    Chainable.prototype.applyMiddleware = function (middleware) {\n        return this.create(__assign({}, this.props, { middleware: this.props.middleware ? [middleware].concat(this.props.middleware) : [middleware] }));\n    };\n    Chainable.prototype.pipe = function () {\n        var funcs = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            funcs[_i] = arguments[_i];\n        }\n        var pipedUpdate = funcs.length === 1 ? funcs[0] : pipe.apply(void 0, funcs);\n        return this.applyMiddleware(function (update) {\n            return function (v) {\n                return update(pipedUpdate(v));\n            };\n        });\n    };\n    Chainable.prototype.while = function (predicate) {\n        return this.applyMiddleware(function (update, complete) {\n            return function (v) {\n                return predicate(v) ? update(v) : complete();\n            };\n        });\n    };\n    Chainable.prototype.filter = function (predicate) {\n        return this.applyMiddleware(function (update) {\n            return function (v) {\n                return predicate(v) && update(v);\n            };\n        });\n    };\n    return Chainable;\n}();\n\nvar Observer = /*#__PURE__*/function () {\n    function Observer(_a, observer) {\n        var middleware = _a.middleware,\n            onComplete = _a.onComplete;\n        var _this = this;\n        this.isActive = true;\n        this.update = function (v) {\n            if (_this.observer.update) _this.updateObserver(v);\n        };\n        this.complete = function () {\n            if (_this.observer.complete && _this.isActive) _this.observer.complete();\n            if (_this.onComplete) _this.onComplete();\n            _this.isActive = false;\n        };\n        this.error = function (err) {\n            if (_this.observer.error && _this.isActive) _this.observer.error(err);\n            _this.isActive = false;\n        };\n        this.observer = observer;\n        this.updateObserver = function (v) {\n            return observer.update(v);\n        };\n        this.onComplete = onComplete;\n        if (observer.update && middleware && middleware.length) {\n            middleware.forEach(function (m) {\n                return _this.updateObserver = m(_this.updateObserver, _this.complete);\n            });\n        }\n    }\n    return Observer;\n}();\nvar createObserver = function (observerCandidate, _a, onComplete) {\n    var middleware = _a.middleware;\n    if (typeof observerCandidate === 'function') {\n        return new Observer({ middleware: middleware, onComplete: onComplete }, { update: observerCandidate });\n    } else {\n        return new Observer({ middleware: middleware, onComplete: onComplete }, observerCandidate);\n    }\n};\n\nvar Action = /*#__PURE__*/function (_super) {\n    __extends(Action, _super);\n    function Action() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Action.prototype.create = function (props) {\n        return new Action(props);\n    };\n    Action.prototype.start = function (observerCandidate) {\n        if (observerCandidate === void 0) {\n            observerCandidate = {};\n        }\n        var isComplete = false;\n        var subscription = {\n            stop: function () {\n                return undefined;\n            }\n        };\n        var _a = this.props,\n            init = _a.init,\n            observerProps = __rest(_a, [\"init\"]);\n        var observer = createObserver(observerCandidate, observerProps, function () {\n            isComplete = true;\n            subscription.stop();\n        });\n        var api = init(observer);\n        subscription = api ? __assign({}, subscription, api) : subscription;\n        if (observerCandidate.registerParent) {\n            observerCandidate.registerParent(subscription);\n        }\n        if (isComplete) subscription.stop();\n        return subscription;\n    };\n    return Action;\n}(Chainable);\nvar action = function (init) {\n    return new Action({ init: init });\n};\n\nvar BaseMulticast = /*#__PURE__*/function (_super) {\n    __extends(BaseMulticast, _super);\n    function BaseMulticast() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.subscribers = [];\n        return _this;\n    }\n    BaseMulticast.prototype.complete = function () {\n        this.subscribers.forEach(function (subscriber) {\n            return subscriber.complete();\n        });\n    };\n    BaseMulticast.prototype.error = function (err) {\n        this.subscribers.forEach(function (subscriber) {\n            return subscriber.error(err);\n        });\n    };\n    BaseMulticast.prototype.update = function (v) {\n        for (var i = 0; i < this.subscribers.length; i++) {\n            this.subscribers[i].update(v);\n        }\n    };\n    BaseMulticast.prototype.subscribe = function (observerCandidate) {\n        var _this = this;\n        var observer = createObserver(observerCandidate, this.props);\n        this.subscribers.push(observer);\n        var subscription = {\n            unsubscribe: function () {\n                var index = _this.subscribers.indexOf(observer);\n                if (index !== -1) _this.subscribers.splice(index, 1);\n            }\n        };\n        return subscription;\n    };\n    BaseMulticast.prototype.stop = function () {\n        if (this.parent) this.parent.stop();\n    };\n    BaseMulticast.prototype.registerParent = function (subscription) {\n        this.stop();\n        this.parent = subscription;\n    };\n    return BaseMulticast;\n}(Chainable);\n\nvar Multicast = /*#__PURE__*/function (_super) {\n    __extends(Multicast, _super);\n    function Multicast() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Multicast.prototype.create = function (props) {\n        return new Multicast(props);\n    };\n    return Multicast;\n}(BaseMulticast);\nvar multicast = function () {\n    return new Multicast();\n};\n\nvar stepProgress = function (steps, progress$$1) {\n    var segment = 1 / (steps - 1);\n    var subsegment = 1 / (2 * (steps - 1));\n    var percentProgressOfTarget = Math.min(progress$$1, 1);\n    var subsegmentProgressOfTarget = percentProgressOfTarget / subsegment;\n    var segmentProgressOfTarget = Math.floor((subsegmentProgressOfTarget + 1) / 2);\n    return segmentProgressOfTarget * segment;\n};\n\nvar calc = /*#__PURE__*/Object.freeze({\n    angle: angle,\n    degreesToRadians: degreesToRadians,\n    distance: distance,\n    isPoint3D: isPoint3D,\n    isPoint: isPoint,\n    dilate: mix,\n    getValueFromProgress: mix,\n    pointFromAngleAndDistance: pointFromVector,\n    getProgressFromValue: progress,\n    radiansToDegrees: radiansToDegrees,\n    smooth: smoothFrame,\n    speedPerFrame: velocityPerFrame,\n    speedPerSecond: velocityPerSecond,\n    stepProgress: stepProgress\n});\n\nvar isValueList = function (v) {\n    return Array.isArray(v);\n};\nvar isSingleValue = function (v) {\n    var typeOfV = typeof v;\n    return typeOfV === 'string' || typeOfV === 'number';\n};\nvar ValueReaction = /*#__PURE__*/function (_super) {\n    __extends(ValueReaction, _super);\n    function ValueReaction(props) {\n        var _this = _super.call(this, props) || this;\n        _this.scheduleVelocityCheck = function () {\n            return sync.postRender(_this.velocityCheck);\n        };\n        _this.velocityCheck = function (_a) {\n            var timestamp = _a.timestamp;\n            if (timestamp !== _this.lastUpdated) {\n                _this.prev = _this.current;\n            }\n        };\n        _this.prev = _this.current = props.value || 0;\n        if (isSingleValue(_this.current)) {\n            _this.updateCurrent = function (v) {\n                return _this.current = v;\n            };\n            _this.getVelocityOfCurrent = function () {\n                return _this.getSingleVelocity(_this.current, _this.prev);\n            };\n        } else if (isValueList(_this.current)) {\n            _this.updateCurrent = function (v) {\n                return _this.current = v.slice();\n            };\n            _this.getVelocityOfCurrent = function () {\n                return _this.getListVelocity();\n            };\n        } else {\n            _this.updateCurrent = function (v) {\n                _this.current = {};\n                for (var key in v) {\n                    if (v.hasOwnProperty(key)) {\n                        _this.current[key] = v[key];\n                    }\n                }\n            };\n            _this.getVelocityOfCurrent = function () {\n                return _this.getMapVelocity();\n            };\n        }\n        if (props.initialSubscription) _this.subscribe(props.initialSubscription);\n        return _this;\n    }\n    ValueReaction.prototype.create = function (props) {\n        return new ValueReaction(props);\n    };\n    ValueReaction.prototype.get = function () {\n        return this.current;\n    };\n    ValueReaction.prototype.getVelocity = function () {\n        return this.getVelocityOfCurrent();\n    };\n    ValueReaction.prototype.update = function (v) {\n        _super.prototype.update.call(this, v);\n        this.prev = this.current;\n        this.updateCurrent(v);\n        var _a = getFrameData(),\n            delta = _a.delta,\n            timestamp = _a.timestamp;\n        this.timeDelta = delta;\n        this.lastUpdated = timestamp;\n        sync.postRender(this.scheduleVelocityCheck);\n    };\n    ValueReaction.prototype.subscribe = function (observerCandidate) {\n        var sub = _super.prototype.subscribe.call(this, observerCandidate);\n        this.subscribers[this.subscribers.length - 1].update(this.current);\n        return sub;\n    };\n    ValueReaction.prototype.getSingleVelocity = function (current, prev) {\n        return typeof current === 'number' && typeof prev === 'number' ? velocityPerSecond(current - prev, this.timeDelta) : velocityPerSecond(parseFloat(current) - parseFloat(prev), this.timeDelta) || 0;\n    };\n    ValueReaction.prototype.getListVelocity = function () {\n        var _this = this;\n        return this.current.map(function (c, i) {\n            return _this.getSingleVelocity(c, _this.prev[i]);\n        });\n    };\n    ValueReaction.prototype.getMapVelocity = function () {\n        var velocity = {};\n        for (var key in this.current) {\n            if (this.current.hasOwnProperty(key)) {\n                velocity[key] = this.getSingleVelocity(this.current[key], this.prev[key]);\n            }\n        }\n        return velocity;\n    };\n    return ValueReaction;\n}(BaseMulticast);\nvar value = function (value, initialSubscription) {\n    return new ValueReaction({ value: value, initialSubscription: initialSubscription });\n};\n\nvar multi = function (_a) {\n    var getCount = _a.getCount,\n        getFirst = _a.getFirst,\n        getOutput = _a.getOutput,\n        mapApi = _a.mapApi,\n        setProp = _a.setProp,\n        startActions = _a.startActions;\n    return function (actions) {\n        return action(function (_a) {\n            var update = _a.update,\n                complete = _a.complete,\n                error = _a.error;\n            var numActions = getCount(actions);\n            var output = getOutput();\n            var updateOutput = function () {\n                return update(output);\n            };\n            var numCompletedActions = 0;\n            var subs = startActions(actions, function (a, name) {\n                var hasCompleted = false;\n                return a.start({\n                    complete: function () {\n                        if (!hasCompleted) {\n                            hasCompleted = true;\n                            numCompletedActions++;\n                            if (numCompletedActions === numActions) sync.update(complete);\n                        }\n                    },\n                    error: error,\n                    update: function (v) {\n                        setProp(output, name, v);\n                        sync.update(updateOutput, false, true);\n                    }\n                });\n            });\n            return Object.keys(getFirst(subs)).reduce(function (api, methodName) {\n                api[methodName] = mapApi(subs, methodName);\n                return api;\n            }, {});\n        });\n    };\n};\n\nvar composite = /*#__PURE__*/multi({\n    getOutput: function () {\n        return {};\n    },\n    getCount: function (subs) {\n        return Object.keys(subs).length;\n    },\n    getFirst: function (subs) {\n        return subs[Object.keys(subs)[0]];\n    },\n    mapApi: function (subs, methodName) {\n        return function () {\n            var args = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                args[_i] = arguments[_i];\n            }\n            return Object.keys(subs).reduce(function (output, propKey) {\n                var _a;\n                if (subs[propKey][methodName]) {\n                    args[0] && args[0][propKey] !== undefined ? output[propKey] = subs[propKey][methodName](args[0][propKey]) : output[propKey] = (_a = subs[propKey])[methodName].apply(_a, args);\n                }\n                return output;\n            }, {});\n        };\n    },\n    setProp: function (output, name, v) {\n        return output[name] = v;\n    },\n    startActions: function (actions, starter) {\n        return Object.keys(actions).reduce(function (subs, key) {\n            subs[key] = starter(actions[key], key);\n            return subs;\n        }, {});\n    }\n});\n\nvar parallel = /*#__PURE__*/multi({\n    getOutput: function () {\n        return [];\n    },\n    getCount: function (subs) {\n        return subs.length;\n    },\n    getFirst: function (subs) {\n        return subs[0];\n    },\n    mapApi: function (subs, methodName) {\n        return function () {\n            var args = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                args[_i] = arguments[_i];\n            }\n            return subs.map(function (sub, i) {\n                if (sub[methodName]) {\n                    return Array.isArray(args[0]) ? sub[methodName](args[0][i]) : sub[methodName].apply(sub, args);\n                }\n            });\n        };\n    },\n    setProp: function (output, name, v) {\n        return output[name] = v;\n    },\n    startActions: function (actions, starter) {\n        return actions.map(function (action, i) {\n            return starter(action, i);\n        });\n    }\n});\nvar parallel$1 = function () {\n    var actions = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        actions[_i] = arguments[_i];\n    }\n    return parallel(actions);\n};\n\nvar createVectorTests = function (typeTests) {\n    var testNames = Object.keys(typeTests);\n    var isVectorProp = function (prop, key) {\n        return prop !== undefined && !typeTests[key](prop);\n    };\n    var getVectorKeys = function (props) {\n        return testNames.reduce(function (vectorKeys, key) {\n            if (isVectorProp(props[key], key)) vectorKeys.push(key);\n            return vectorKeys;\n        }, []);\n    };\n    var testVectorProps = function (props) {\n        return props && testNames.some(function (key) {\n            return isVectorProp(props[key], key);\n        });\n    };\n    return { getVectorKeys: getVectorKeys, testVectorProps: testVectorProps };\n};\nvar unitTypes = [px, percent, degrees, vh, vw];\nvar findUnitType = function (prop) {\n    return unitTypes.find(function (type) {\n        return type.test(prop);\n    });\n};\nvar isUnitProp = function (prop) {\n    return Boolean(findUnitType(prop));\n};\nvar createAction = function (action, props) {\n    return action(props);\n};\nvar reduceArrayValue = function (i) {\n    return function (props, key) {\n        props[key] = props[key][i];\n        return props;\n    };\n};\nvar createArrayAction = function (action, props, vectorKeys) {\n    var firstVectorKey = vectorKeys[0];\n    var actionList = props[firstVectorKey].map(function (v, i) {\n        var childActionProps = vectorKeys.reduce(reduceArrayValue(i), __assign({}, props));\n        return getActionCreator(v)(action, childActionProps);\n    });\n    return parallel$1.apply(void 0, actionList);\n};\nvar reduceObjectValue = function (key) {\n    return function (props, propKey) {\n        props[propKey] = props[propKey][key];\n        return props;\n    };\n};\nvar createObjectAction = function (action, props, vectorKeys) {\n    var firstVectorKey = vectorKeys[0];\n    var actionMap = Object.keys(props[firstVectorKey]).reduce(function (map, key) {\n        var childActionProps = vectorKeys.reduce(reduceObjectValue(key), __assign({}, props));\n        map[key] = getActionCreator(props[firstVectorKey][key])(action, childActionProps);\n        return map;\n    }, {});\n    return composite(actionMap);\n};\nvar createUnitAction = function (action, _a) {\n    var from = _a.from,\n        to = _a.to,\n        props = __rest(_a, [\"from\", \"to\"]);\n    var unitType = findUnitType(from) || findUnitType(to);\n    var transform = unitType.transform,\n        parse = unitType.parse;\n    return action(__assign({}, props, { from: typeof from === 'string' ? parse(from) : from, to: typeof to === 'string' ? parse(to) : to })).pipe(transform);\n};\nvar createMixerAction = function (mixer) {\n    return function (action, _a) {\n        var from = _a.from,\n            to = _a.to,\n            props = __rest(_a, [\"from\", \"to\"]);\n        return action(__assign({}, props, { from: 0, to: 1 })).pipe(mixer(from, to));\n    };\n};\nvar createColorAction = /*#__PURE__*/createMixerAction(mixColor);\nvar createComplexAction = /*#__PURE__*/createMixerAction(mixComplex);\nvar createVectorAction = function (action, typeTests) {\n    var _a = createVectorTests(typeTests),\n        testVectorProps = _a.testVectorProps,\n        getVectorKeys = _a.getVectorKeys;\n    var vectorAction = function (props) {\n        var isVector = testVectorProps(props);\n        if (!isVector) return action(props);\n        var vectorKeys = getVectorKeys(props);\n        var testKey = vectorKeys[0];\n        var testProp = props[testKey];\n        return getActionCreator(testProp)(action, props, vectorKeys);\n    };\n    return vectorAction;\n};\nvar getActionCreator = function (prop) {\n    if (typeof prop === 'number') {\n        return createAction;\n    } else if (Array.isArray(prop)) {\n        return createArrayAction;\n    } else if (isUnitProp(prop)) {\n        return createUnitAction;\n    } else if (color.test(prop)) {\n        return createColorAction;\n    } else if (complex.test(prop)) {\n        return createComplexAction;\n    } else if (typeof prop === 'object') {\n        return createObjectAction;\n    } else {\n        return createAction;\n    }\n};\n\nvar decay = function (props) {\n    if (props === void 0) {\n        props = {};\n    }\n    return action(function (_a) {\n        var complete = _a.complete,\n            update = _a.update;\n        var _b = props.velocity,\n            velocity = _b === void 0 ? 0 : _b,\n            _c = props.from,\n            from = _c === void 0 ? 0 : _c,\n            _d = props.power,\n            power = _d === void 0 ? 0.8 : _d,\n            _e = props.timeConstant,\n            timeConstant = _e === void 0 ? 350 : _e,\n            _f = props.restDelta,\n            restDelta = _f === void 0 ? 0.5 : _f,\n            modifyTarget = props.modifyTarget;\n        var elapsed = 0;\n        var amplitude = power * velocity;\n        var idealTarget = Math.round(from + amplitude);\n        var target = typeof modifyTarget === 'undefined' ? idealTarget : modifyTarget(idealTarget);\n        var process = sync.update(function (_a) {\n            var frameDelta = _a.delta;\n            elapsed += frameDelta;\n            var delta = -amplitude * Math.exp(-elapsed / timeConstant);\n            var isMoving = delta > restDelta || delta < -restDelta;\n            var current = isMoving ? target + delta : target;\n            update(current);\n            if (!isMoving) {\n                cancelSync.update(process);\n                complete();\n            }\n        }, true);\n        return {\n            stop: function () {\n                return cancelSync.update(process);\n            }\n        };\n    });\n};\nvar vectorDecay = /*#__PURE__*/createVectorAction(decay, {\n    from: number.test,\n    modifyTarget: function (func) {\n        return typeof func === 'function';\n    },\n    velocity: number.test\n});\n\nvar spring = function (props) {\n    if (props === void 0) {\n        props = {};\n    }\n    return action(function (_a) {\n        var update = _a.update,\n            complete = _a.complete;\n        var _b = props.velocity,\n            velocity = _b === void 0 ? 0.0 : _b;\n        var _c = props.from,\n            from = _c === void 0 ? 0.0 : _c,\n            _d = props.to,\n            to = _d === void 0 ? 0.0 : _d,\n            _e = props.stiffness,\n            stiffness = _e === void 0 ? 100 : _e,\n            _f = props.damping,\n            damping = _f === void 0 ? 10 : _f,\n            _g = props.mass,\n            mass = _g === void 0 ? 1.0 : _g,\n            _h = props.restSpeed,\n            restSpeed = _h === void 0 ? 0.01 : _h,\n            _j = props.restDelta,\n            restDelta = _j === void 0 ? 0.01 : _j;\n        var initialVelocity = velocity ? -(velocity / 1000) : 0.0;\n        var t = 0;\n        var delta = to - from;\n        var position = from;\n        var prevPosition = position;\n        var process = sync.update(function (_a) {\n            var timeDelta = _a.delta;\n            t += timeDelta;\n            var dampingRatio = damping / (2 * Math.sqrt(stiffness * mass));\n            var angularFreq = Math.sqrt(stiffness / mass) / 1000;\n            prevPosition = position;\n            if (dampingRatio < 1) {\n                var envelope = Math.exp(-dampingRatio * angularFreq * t);\n                var expoDecay = angularFreq * Math.sqrt(1.0 - dampingRatio * dampingRatio);\n                position = to - envelope * ((initialVelocity + dampingRatio * angularFreq * delta) / expoDecay * Math.sin(expoDecay * t) + delta * Math.cos(expoDecay * t));\n            } else {\n                var envelope = Math.exp(-angularFreq * t);\n                position = to - envelope * (delta + (initialVelocity + angularFreq * delta) * t);\n            }\n            velocity = velocityPerSecond(position - prevPosition, timeDelta);\n            var isBelowVelocityThreshold = Math.abs(velocity) <= restSpeed;\n            var isBelowDisplacementThreshold = Math.abs(to - position) <= restDelta;\n            if (isBelowVelocityThreshold && isBelowDisplacementThreshold) {\n                position = to;\n                update(position);\n                cancelSync.update(process);\n                complete();\n            } else {\n                update(position);\n            }\n        }, true);\n        return {\n            stop: function () {\n                return cancelSync.update(process);\n            }\n        };\n    });\n};\nvar vectorSpring = /*#__PURE__*/createVectorAction(spring, {\n    from: number.test,\n    to: number.test,\n    stiffness: number.test,\n    damping: number.test,\n    mass: number.test,\n    velocity: number.test\n});\n\nvar inertia = function (_a) {\n    var _b = _a.from,\n        from = _b === void 0 ? 0 : _b,\n        _c = _a.velocity,\n        velocity = _c === void 0 ? 0 : _c,\n        min = _a.min,\n        max = _a.max,\n        _d = _a.power,\n        power = _d === void 0 ? 0.8 : _d,\n        _e = _a.timeConstant,\n        timeConstant = _e === void 0 ? 700 : _e,\n        _f = _a.bounceStiffness,\n        bounceStiffness = _f === void 0 ? 500 : _f,\n        _g = _a.bounceDamping,\n        bounceDamping = _g === void 0 ? 10 : _g,\n        _h = _a.restDelta,\n        restDelta = _h === void 0 ? 1 : _h,\n        modifyTarget = _a.modifyTarget;\n    return action(function (_a) {\n        var update = _a.update,\n            complete = _a.complete;\n        var current = value(from);\n        var activeAnimation;\n        var isSpring = false;\n        var isLessThanMin = function (v) {\n            return min !== undefined && v <= min;\n        };\n        var isMoreThanMax = function (v) {\n            return max !== undefined && v >= max;\n        };\n        var isOutOfBounds = function (v) {\n            return isLessThanMin(v) || isMoreThanMax(v);\n        };\n        var isTravellingAwayFromBounds = function (v, currentVelocity) {\n            return isLessThanMin(v) && currentVelocity < 0 || isMoreThanMax(v) && currentVelocity > 0;\n        };\n        var startAnimation = function (animation, next) {\n            activeAnimation && activeAnimation.stop();\n            activeAnimation = animation.start({\n                update: function (v) {\n                    return current.update(v);\n                },\n                complete: function () {\n                    if (next) {\n                        next();\n                        return;\n                    }\n                    complete();\n                }\n            });\n        };\n        var startSpring = function (props) {\n            isSpring = true;\n            startAnimation(vectorSpring(__assign({}, props, { to: isLessThanMin(props.from) ? min : max, stiffness: bounceStiffness, damping: bounceDamping, restDelta: restDelta })));\n        };\n        current.subscribe(function (v) {\n            update(v);\n            var currentVelocity = current.getVelocity();\n            if (activeAnimation && !isSpring && isTravellingAwayFromBounds(v, currentVelocity)) {\n                startSpring({ from: v, velocity: currentVelocity });\n            }\n        });\n        if (isOutOfBounds(from)) {\n            startSpring({ from: from, velocity: velocity });\n        } else if (velocity !== 0) {\n            var animation = vectorDecay({\n                from: from,\n                velocity: velocity,\n                timeConstant: timeConstant,\n                power: power,\n                restDelta: isOutOfBounds(from) ? 20 : restDelta,\n                modifyTarget: modifyTarget\n            });\n            startAnimation(animation, function () {\n                var v = current.get();\n                if (isOutOfBounds(v)) {\n                    startSpring({ from: v, velocity: current.getVelocity() });\n                } else {\n                    complete();\n                }\n            });\n        } else {\n            complete();\n        }\n        return {\n            stop: function () {\n                return activeAnimation && activeAnimation.stop();\n            }\n        };\n    });\n};\nvar index = /*#__PURE__*/createVectorAction(inertia, {\n    from: number.test,\n    velocity: number.test,\n    min: number.test,\n    max: number.test,\n    damping: number.test,\n    stiffness: number.test,\n    modifyTarget: function (func) {\n        return typeof func === 'function';\n    }\n});\n\nvar frame = function () {\n    return action(function (_a) {\n        var update = _a.update;\n        var initialTime = 0;\n        var process = sync.update(function (_a) {\n            var timestamp = _a.timestamp;\n            if (!initialTime) initialTime = timestamp;\n            update(timestamp - initialTime);\n        }, true, true);\n        return {\n            stop: function () {\n                return cancelSync.update(process);\n            }\n        };\n    });\n};\n\nvar scrubber = function (_a) {\n    var _b = _a.from,\n        from = _b === void 0 ? 0 : _b,\n        _c = _a.to,\n        to = _c === void 0 ? 1 : _c,\n        _d = _a.ease,\n        ease = _d === void 0 ? linear : _d,\n        _e = _a.reverseEase,\n        reverseEase = _e === void 0 ? false : _e;\n    if (reverseEase) {\n        ease = createReversedEasing(ease);\n    }\n    return action(function (_a) {\n        var update = _a.update;\n        return {\n            seek: function (progress$$1) {\n                return update(progress$$1);\n            }\n        };\n    }).pipe(ease, function (v) {\n        return mix(from, to, v);\n    });\n};\nvar vectorScrubber = /*#__PURE__*/createVectorAction(scrubber, {\n    ease: function (func) {\n        return typeof func === 'function';\n    },\n    from: number.test,\n    to: number.test\n});\n\nvar clampProgress = /*#__PURE__*/clamp(0, 1);\nvar tween = function (props) {\n    if (props === void 0) {\n        props = {};\n    }\n    return action(function (_a) {\n        var update = _a.update,\n            complete = _a.complete;\n        var _b = props.duration,\n            duration = _b === void 0 ? 300 : _b,\n            _c = props.ease,\n            ease = _c === void 0 ? easeOut : _c,\n            _d = props.flip,\n            flip = _d === void 0 ? 0 : _d,\n            _e = props.loop,\n            loop = _e === void 0 ? 0 : _e,\n            _f = props.yoyo,\n            yoyo = _f === void 0 ? 0 : _f,\n            _g = props.repeatDelay,\n            repeatDelay = _g === void 0 ? 0 : _g;\n        var _h = props.from,\n            from = _h === void 0 ? 0 : _h,\n            _j = props.to,\n            to = _j === void 0 ? 1 : _j,\n            _k = props.elapsed,\n            elapsed = _k === void 0 ? 0 : _k,\n            _l = props.flipCount,\n            flipCount = _l === void 0 ? 0 : _l,\n            _m = props.yoyoCount,\n            yoyoCount = _m === void 0 ? 0 : _m,\n            _o = props.loopCount,\n            loopCount = _o === void 0 ? 0 : _o;\n        var playhead = vectorScrubber({ from: from, to: to, ease: ease }).start(update);\n        var currentProgress = 0;\n        var process;\n        var isActive = false;\n        var reverseAnimation = function (reverseEase) {\n            if (reverseEase === void 0) {\n                reverseEase = false;\n            }\n            var _a;\n            _a = [to, from], from = _a[0], to = _a[1];\n            playhead = vectorScrubber({ from: from, to: to, ease: ease, reverseEase: reverseEase }).start(update);\n        };\n        var isTweenComplete = function () {\n            var isComplete = isActive && elapsed > duration + repeatDelay;\n            if (!isComplete) return false;\n            if (isComplete && !loop && !flip && !yoyo) return true;\n            elapsed = duration - (elapsed - repeatDelay);\n            if (loop && loopCount < loop) {\n                loopCount++;\n                return false;\n            } else if (flip && flipCount < flip) {\n                flipCount++;\n                reverseAnimation();\n                return false;\n            } else if (yoyo && yoyoCount < yoyo) {\n                yoyoCount++;\n                reverseAnimation(yoyoCount % 2 !== 0);\n                return false;\n            }\n            return true;\n        };\n        var updateTween = function () {\n            currentProgress = clampProgress(progress(0, duration, elapsed));\n            playhead.seek(currentProgress);\n        };\n        var startTimer = function () {\n            isActive = true;\n            process = sync.update(function (_a) {\n                var delta = _a.delta;\n                elapsed += delta;\n                updateTween();\n                if (isTweenComplete()) {\n                    cancelSync.update(process);\n                    complete && sync.update(complete, false, true);\n                }\n            }, true);\n        };\n        var stopTimer = function () {\n            isActive = false;\n            if (process) cancelSync.update(process);\n        };\n        startTimer();\n        return {\n            isActive: function () {\n                return isActive;\n            },\n            getElapsed: function () {\n                return clamp(0, duration, elapsed);\n            },\n            getProgress: function () {\n                return currentProgress;\n            },\n            stop: function () {\n                stopTimer();\n            },\n            pause: function () {\n                stopTimer();\n                return this;\n            },\n            resume: function () {\n                if (!isActive) startTimer();\n                return this;\n            },\n            seek: function (newProgress) {\n                elapsed = mix(0, duration, newProgress);\n                sync.update(updateTween, false, true);\n                return this;\n            },\n            reverse: function () {\n                reverseAnimation();\n                return this;\n            }\n        };\n    });\n};\n\nvar clampProgress$1 = /*#__PURE__*/clamp(0, 1);\nvar defaultEasings = function (values, easing$$1) {\n    return values.map(function () {\n        return easing$$1 || easeOut;\n    }).splice(0, values.length - 1);\n};\nvar defaultTimings = function (values) {\n    var numValues = values.length;\n    return values.map(function (value, i) {\n        return i !== 0 ? i / (numValues - 1) : 0;\n    });\n};\nvar interpolateScrubbers = function (input, scrubbers, update) {\n    var rangeLength = input.length;\n    var finalInputIndex = rangeLength - 1;\n    var finalScrubberIndex = finalInputIndex - 1;\n    var subs = scrubbers.map(function (scrub) {\n        return scrub.start(update);\n    });\n    return function (v) {\n        if (v <= input[0]) {\n            subs[0].seek(0);\n        }\n        if (v >= input[finalInputIndex]) {\n            subs[finalScrubberIndex].seek(1);\n        }\n        var i = 1;\n        for (; i < rangeLength; i++) {\n            if (input[i] > v || i === finalInputIndex) break;\n        }\n        var progressInRange = progress(input[i - 1], input[i], v);\n        subs[i - 1].seek(clampProgress$1(progressInRange));\n    };\n};\nvar keyframes = function (_a) {\n    var easings = _a.easings,\n        _b = _a.ease,\n        ease = _b === void 0 ? linear : _b,\n        times = _a.times,\n        values = _a.values,\n        tweenProps = __rest(_a, [\"easings\", \"ease\", \"times\", \"values\"]);\n    easings = Array.isArray(easings) ? easings : defaultEasings(values, easings);\n    times = times || defaultTimings(values);\n    var scrubbers = easings.map(function (easing$$1, i) {\n        return vectorScrubber({\n            from: values[i],\n            to: values[i + 1],\n            ease: easing$$1\n        });\n    });\n    return tween(__assign({}, tweenProps, { ease: ease })).applyMiddleware(function (update) {\n        return interpolateScrubbers(times, scrubbers, update);\n    });\n};\n\nvar physics = function (props) {\n    if (props === void 0) {\n        props = {};\n    }\n    return action(function (_a) {\n        var complete = _a.complete,\n            update = _a.update;\n        var _b = props.acceleration,\n            acceleration = _b === void 0 ? 0 : _b,\n            _c = props.friction,\n            friction = _c === void 0 ? 0 : _c,\n            _d = props.velocity,\n            velocity = _d === void 0 ? 0 : _d,\n            springStrength = props.springStrength,\n            to = props.to;\n        var _e = props.restSpeed,\n            restSpeed = _e === void 0 ? 0.001 : _e,\n            _f = props.from,\n            from = _f === void 0 ? 0 : _f;\n        var current = from;\n        var process = sync.update(function (_a) {\n            var delta = _a.delta;\n            var elapsed = Math.max(delta, 16);\n            if (acceleration) velocity += velocityPerFrame(acceleration, elapsed);\n            if (friction) velocity *= Math.pow(1 - friction, elapsed / 100);\n            if (springStrength !== undefined && to !== undefined) {\n                var distanceToTarget = to - current;\n                velocity += distanceToTarget * velocityPerFrame(springStrength, elapsed);\n            }\n            current += velocityPerFrame(velocity, elapsed);\n            update(current);\n            var isComplete = restSpeed !== false && (!velocity || Math.abs(velocity) <= restSpeed);\n            if (isComplete) {\n                cancelSync.update(process);\n                complete();\n            }\n        }, true);\n        return {\n            set: function (v) {\n                current = v;\n                return this;\n            },\n            setAcceleration: function (v) {\n                acceleration = v;\n                return this;\n            },\n            setFriction: function (v) {\n                friction = v;\n                return this;\n            },\n            setSpringStrength: function (v) {\n                springStrength = v;\n                return this;\n            },\n            setSpringTarget: function (v) {\n                to = v;\n                return this;\n            },\n            setVelocity: function (v) {\n                velocity = v;\n                return this;\n            },\n            stop: function () {\n                return cancelSync.update(process);\n            }\n        };\n    });\n};\nvar vectorPhysics = /*#__PURE__*/createVectorAction(physics, {\n    acceleration: number.test,\n    friction: number.test,\n    velocity: number.test,\n    from: number.test,\n    to: number.test,\n    springStrength: number.test\n});\n\nvar DEFAULT_DURATION = 300;\nvar flattenTimings = function (instructions) {\n    var flatInstructions = [];\n    var lastArg = instructions[instructions.length - 1];\n    var isStaggered = typeof lastArg === 'number';\n    var staggerDelay = isStaggered ? lastArg : 0;\n    var segments = isStaggered ? instructions.slice(0, -1) : instructions;\n    var numSegments = segments.length;\n    var offset = 0;\n    segments.forEach(function (item, i) {\n        flatInstructions.push(item);\n        if (i !== numSegments - 1) {\n            var duration = item.duration || DEFAULT_DURATION;\n            offset += staggerDelay;\n            flatInstructions.push(\"-\" + (duration - offset));\n        }\n    });\n    return flatInstructions;\n};\nvar flattenArrayInstructions = function (instructions, instruction) {\n    Array.isArray(instruction) ? instructions.push.apply(instructions, flattenTimings(instruction)) : instructions.push(instruction);\n    return instructions;\n};\nvar convertDefToProps = function (props, def, i) {\n    var duration = props.duration,\n        easings = props.easings,\n        times = props.times,\n        values = props.values;\n    var numValues = values.length;\n    var prevTimeTo = times[numValues - 1];\n    var timeFrom = def.at === 0 ? 0 : def.at / duration;\n    var timeTo = (def.at + def.duration) / duration;\n    if (i === 0) {\n        values.push(def.from);\n        times.push(timeFrom);\n    } else {\n        if (prevTimeTo !== timeFrom) {\n            if (def.from !== undefined) {\n                values.push(values[numValues - 1]);\n                times.push(timeFrom);\n                easings.push(linear);\n            }\n            var from = def.from !== undefined ? def.from : values[numValues - 1];\n            values.push(from);\n            times.push(timeFrom);\n            easings.push(linear);\n        } else if (def.from !== undefined) {\n            values.push(def.from);\n            times.push(timeFrom);\n            easings.push(linear);\n        }\n    }\n    values.push(def.to);\n    times.push(timeTo);\n    easings.push(def.ease || easeInOut);\n    return props;\n};\nvar timeline = function (instructions, _a) {\n    var _b = _a === void 0 ? {} : _a,\n        duration = _b.duration,\n        elapsed = _b.elapsed,\n        ease = _b.ease,\n        loop = _b.loop,\n        flip = _b.flip,\n        yoyo = _b.yoyo;\n    var playhead = 0;\n    var calculatedDuration = 0;\n    var flatInstructions = instructions.reduce(flattenArrayInstructions, []);\n    var animationDefs = [];\n    flatInstructions.forEach(function (instruction) {\n        if (typeof instruction === 'string') {\n            playhead += parseFloat(instruction);\n        } else if (typeof instruction === 'number') {\n            playhead = instruction;\n        } else {\n            var def = __assign({}, instruction, { at: playhead });\n            def.duration = def.duration === undefined ? DEFAULT_DURATION : def.duration;\n            animationDefs.push(def);\n            playhead += def.duration;\n            calculatedDuration = Math.max(calculatedDuration, def.at + def.duration);\n        }\n    });\n    var tracks = {};\n    var numDefs = animationDefs.length;\n    for (var i = 0; i < numDefs; i++) {\n        var def = animationDefs[i];\n        var track = def.track;\n        if (track === undefined) {\n            throw new Error('No track defined');\n        }\n        if (!tracks.hasOwnProperty(track)) tracks[track] = [];\n        tracks[track].push(def);\n    }\n    var trackKeyframes = {};\n    for (var key in tracks) {\n        if (tracks.hasOwnProperty(key)) {\n            var keyframeProps = tracks[key].reduce(convertDefToProps, {\n                duration: calculatedDuration,\n                easings: [],\n                times: [],\n                values: []\n            });\n            trackKeyframes[key] = keyframes(__assign({}, keyframeProps, { duration: duration || calculatedDuration, ease: ease,\n                elapsed: elapsed,\n                loop: loop,\n                yoyo: yoyo,\n                flip: flip }));\n        }\n    }\n    return composite(trackKeyframes);\n};\n\nvar listen = function (element, events, options) {\n    return action(function (_a) {\n        var update = _a.update;\n        var eventNames = events.split(' ').map(function (eventName) {\n            element.addEventListener(eventName, update, options);\n            return eventName;\n        });\n        return {\n            stop: function () {\n                return eventNames.forEach(function (eventName) {\n                    return element.removeEventListener(eventName, update, options);\n                });\n            }\n        };\n    });\n};\n\nvar defaultPointerPos = function () {\n    return {\n        clientX: 0,\n        clientY: 0,\n        pageX: 0,\n        pageY: 0,\n        x: 0,\n        y: 0\n    };\n};\nvar eventToPoint = function (e, point) {\n    if (point === void 0) {\n        point = defaultPointerPos();\n    }\n    point.clientX = point.x = e.clientX;\n    point.clientY = point.y = e.clientY;\n    point.pageX = e.pageX;\n    point.pageY = e.pageY;\n    return point;\n};\n\nvar points = [/*#__PURE__*/defaultPointerPos()];\nvar isTouchDevice = false;\nif (typeof document !== 'undefined') {\n    var updatePointsLocation = function (_a) {\n        var touches = _a.touches;\n        isTouchDevice = true;\n        var numTouches = touches.length;\n        points.length = 0;\n        for (var i = 0; i < numTouches; i++) {\n            var thisTouch = touches[i];\n            points.push(eventToPoint(thisTouch));\n        }\n    };\n    listen(document, 'touchstart touchmove', {\n        passive: true,\n        capture: true\n    }).start(updatePointsLocation);\n}\nvar multitouch = function (_a) {\n    var _b = _a === void 0 ? {} : _a,\n        _c = _b.preventDefault,\n        preventDefault = _c === void 0 ? true : _c,\n        _d = _b.scale,\n        scale = _d === void 0 ? 1.0 : _d,\n        _e = _b.rotate,\n        rotate = _e === void 0 ? 0.0 : _e;\n    return action(function (_a) {\n        var update = _a.update;\n        var output = {\n            touches: points,\n            scale: scale,\n            rotate: rotate\n        };\n        var initialDistance = 0.0;\n        var initialRotation = 0.0;\n        var isGesture = points.length > 1;\n        if (isGesture) {\n            var firstTouch = points[0],\n                secondTouch = points[1];\n            initialDistance = distance(firstTouch, secondTouch);\n            initialRotation = angle(firstTouch, secondTouch);\n        }\n        var updatePoint = function () {\n            if (isGesture) {\n                var firstTouch = points[0],\n                    secondTouch = points[1];\n                var newDistance = distance(firstTouch, secondTouch);\n                var newRotation = angle(firstTouch, secondTouch);\n                output.scale = scale * (newDistance / initialDistance);\n                output.rotate = rotate + (newRotation - initialRotation);\n            }\n            update(output);\n        };\n        var onMove = function (e) {\n            if (preventDefault || e.touches.length > 1) e.preventDefault();\n            sync.update(updatePoint);\n        };\n        var updateOnMove = listen(document, 'touchmove', {\n            passive: !preventDefault\n        }).start(onMove);\n        if (isTouchDevice) sync.update(updatePoint);\n        return {\n            stop: function () {\n                cancelSync.update(updatePoint);\n                updateOnMove.stop();\n            }\n        };\n    });\n};\nvar getIsTouchDevice = function () {\n    return isTouchDevice;\n};\n\nvar point = /*#__PURE__*/defaultPointerPos();\nvar isMouseDevice = false;\nif (typeof document !== 'undefined') {\n    var updatePointLocation = function (e) {\n        isMouseDevice = true;\n        eventToPoint(e, point);\n    };\n    listen(document, 'mousedown mousemove', true).start(updatePointLocation);\n}\nvar mouse = function (_a) {\n    var _b = (_a === void 0 ? {} : _a).preventDefault,\n        preventDefault = _b === void 0 ? true : _b;\n    return action(function (_a) {\n        var update = _a.update;\n        var updatePoint = function () {\n            return update(point);\n        };\n        var onMove = function (e) {\n            if (preventDefault) e.preventDefault();\n            sync.update(updatePoint);\n        };\n        var updateOnMove = listen(document, 'mousemove').start(onMove);\n        if (isMouseDevice) sync.update(updatePoint);\n        return {\n            stop: function () {\n                cancelSync.update(updatePoint);\n                updateOnMove.stop();\n            }\n        };\n    });\n};\n\nvar getFirstTouch = function (_a) {\n    var firstTouch = _a[0];\n    return firstTouch;\n};\nvar pointer = function (props) {\n    if (props === void 0) {\n        props = {};\n    }\n    return getIsTouchDevice() ? multitouch(props).pipe(function (_a) {\n        var touches = _a.touches;\n        return touches;\n    }, getFirstTouch) : mouse(props);\n};\nvar index$1 = function (_a) {\n    if (_a === void 0) {\n        _a = {};\n    }\n    var x = _a.x,\n        y = _a.y,\n        props = __rest(_a, [\"x\", \"y\"]);\n    if (x !== undefined || y !== undefined) {\n        var applyXOffset_1 = applyOffset(x || 0);\n        var applyYOffset_1 = applyOffset(y || 0);\n        var delta_1 = { x: 0, y: 0 };\n        return pointer(props).pipe(function (point) {\n            delta_1.x = applyXOffset_1(point.x);\n            delta_1.y = applyYOffset_1(point.y);\n            return delta_1;\n        });\n    } else {\n        return pointer(props);\n    }\n};\n\nvar chain = function () {\n    var actions = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        actions[_i] = arguments[_i];\n    }\n    return action(function (_a) {\n        var update = _a.update,\n            complete = _a.complete;\n        var i = 0;\n        var current;\n        var playCurrent = function () {\n            current = actions[i].start({\n                complete: function () {\n                    i++;\n                    i >= actions.length ? complete() : playCurrent();\n                },\n                update: update\n            });\n        };\n        playCurrent();\n        return {\n            stop: function () {\n                return current && current.stop();\n            }\n        };\n    });\n};\n\nvar crossfade = function (a, b) {\n    return action(function (observer) {\n        var balance = 0;\n        var fadable = parallel$1(a, b).start(__assign({}, observer, { update: function (_a) {\n                var va = _a[0],\n                    vb = _a[1];\n                observer.update(mix(va, vb, balance));\n            } }));\n        return {\n            setBalance: function (v) {\n                return balance = v;\n            },\n            stop: function () {\n                return fadable.stop();\n            }\n        };\n    });\n};\n\nvar delay = function (timeToDelay) {\n    return action(function (_a) {\n        var complete = _a.complete;\n        var timeout = setTimeout(complete, timeToDelay);\n        return {\n            stop: function () {\n                return clearTimeout(timeout);\n            }\n        };\n    });\n};\n\nvar merge = function () {\n    var actions = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        actions[_i] = arguments[_i];\n    }\n    return action(function (observer) {\n        var subs = actions.map(function (thisAction) {\n            return thisAction.start(observer);\n        });\n        return {\n            stop: function () {\n                return subs.forEach(function (sub) {\n                    return sub.stop();\n                });\n            }\n        };\n    });\n};\n\nvar schedule = function (scheduler, schedulee) {\n    return action(function (_a) {\n        var update = _a.update,\n            complete = _a.complete;\n        var latest;\n        var schedulerSub = scheduler.start({\n            update: function () {\n                return latest !== undefined && update(latest);\n            },\n            complete: complete\n        });\n        var scheduleeSub = schedulee.start({\n            update: function (v) {\n                return latest = v;\n            },\n            complete: complete\n        });\n        return {\n            stop: function () {\n                schedulerSub.stop();\n                scheduleeSub.stop();\n            }\n        };\n    });\n};\n\nvar stagger = function (actions, interval) {\n    var intervalIsNumber = typeof interval === 'number';\n    var actionsWithDelay = actions.map(function (a, i) {\n        var timeToDelay = intervalIsNumber ? interval * i : interval(i);\n        return chain(delay(timeToDelay), a);\n    });\n    return parallel$1.apply(void 0, actionsWithDelay);\n};\n\nvar appendUnit = function (unit) {\n    return function (v) {\n        return \"\" + v + unit;\n    };\n};\nvar steps = function (st, min, max) {\n    if (min === void 0) {\n        min = 0;\n    }\n    if (max === void 0) {\n        max = 1;\n    }\n    return function (v) {\n        var current = progress(min, max, v);\n        return mix(min, max, stepProgress(st, current));\n    };\n};\nvar transformMap = function (childTransformers) {\n    return function (v) {\n        var output = __assign({}, v);\n        for (var key in childTransformers) {\n            if (childTransformers.hasOwnProperty(key)) {\n                var childTransformer = childTransformers[key];\n                output[key] = childTransformer(v[key]);\n            }\n        }\n        return output;\n    };\n};\n\nvar transformers = /*#__PURE__*/Object.freeze({\n    applyOffset: applyOffset,\n    clamp: clamp,\n    conditional: conditional,\n    interpolate: interpolate,\n    blendArray: mixArray,\n    blendColor: mixColor,\n    pipe: pipe,\n    smooth: smooth,\n    snap: snap,\n    generateStaticSpring: springForce,\n    nonlinearSpring: springForceExpo,\n    linearSpring: springForceLinear,\n    wrap: wrap,\n    appendUnit: appendUnit,\n    steps: steps,\n    transformMap: transformMap\n});\n\nvar css = function (element, props) {\n    warning(false, 'css() is deprecated, use styler instead');\n    return styler(element, props);\n};\nvar svg = function (element, props) {\n    warning(false, 'svg() is deprecated, use styler instead');\n    return styler(element, props);\n};\n\nexport { action, multicast, value, vectorDecay as decay, index as inertia, keyframes, frame as everyFrame, vectorPhysics as physics, vectorSpring as spring, timeline, tween, listen, index$1 as pointer, mouse, multitouch, chain, composite, crossfade, delay, merge, parallel$1 as parallel, schedule, stagger, calc, transformers as transform, css, svg, Action, ValueReaction };\n"],"sourceRoot":""}