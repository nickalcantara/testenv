{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/js/helpers.js","webpack:///./src/js/modules/ViewController.js","webpack:///./src/js/modules/gallery.js","webpack:///./src/js/app.js"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","1","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","debounce","func","timeout","wait","immediate","context","this","args","arguments","later","callNow","clearTimeout","setTimeout","offset","node","warning","offsetParent","document","body","offsetTop","console","warn","className","id","parentElement","inThreshold","val","threshold","comparison","ViewController","$nodes","images","querySelectorAll","imagesLoaded","imageQueue","setImageQueue","debouncedResize","CustomEvent","throttledScroll","init","evaluateImageQueue","addCustomEvents","lazyLoader","addEventListener","forEach","image","parentNode","style","paddingBottom","dataset","height","width","filter","el","options","innerHeight","offsetValue","elOffset","pageYOffset","onScreen","getAttribute","setAttribute","src","classList","add","emitResizeEvent","emitScrollEvent","dispatchEvent","gallery","require","tween","querySelector","slider","slides","liners","figures","previous","next","maxLinerWidth","actualSlideWidth","activeIndex","translateValue","slideCount","hooks","created","methods","addListeners","setMaxSlideWidth","ready","indexSlides","resize","button","goToActiveIndex","transform","slide","index","resizeSlides","liner","maxWidth","offsetWidth","lastMaxWidth","__ViewController","log"],"mappings":"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","file":"nick.main.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t1: 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([3,2]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","export function debounce(func, wait = 20, immediate = true) {\n  let timeout;\n  return function() {\n    let context = this,\n      args = arguments;\n    let later = function() {\n      timeout = null;\n      if (!immediate) func.apply(context, args);\n    };\n    let callNow = immediate && !timeout;\n    clearTimeout(timeout);\n    timeout = setTimeout(later, wait);\n    if (callNow) func.apply(context, args);\n  };\n}\n\nexport function throttle(fn, limit) {\n  let waiting = false;\n\n  return (...args) => {\n    if (!waiting) {\n      fn.apply(this, args);\n      waiting = true;\n\n      setTimeout(() => {\n        waiting = false;\n      }, limit);\n    }\n  };\n}\n\n// replacement for jQuery offset\nexport const offset = (node, value, warning = false) => {\n  // if the node has an offsetParent that isn't the body...\n  if (node.offsetParent !== document.body) {\n    // add the node's offsetTop to the value.\n    value += node.offsetTop;\n    // call the function again, passing the node's offsetParent and the running value.\n\n    if (node.offsetParent === null) {\n      if (!warning) {\n        // uncomment below line if you need to debug a miscalculation\n        console.warn(\n          `The offsetParent of ${node.className ||\n            node.id} is null. The node's offsetParent may have a position of \"fixed\" or a display of \"none\" that could interfere with offset calculations.`\n        );\n      }\n\n      warning = true;\n      return offset(node.parentElement, value, warning);\n    } else {\n      return offset(node.offsetParent, value);\n    }\n  } else {\n    // if the node is relative to the body, add the offsetTop and return.\n    return (value += node.offsetTop);\n  }\n};\n\nexport function inThreshold(val, threshold, comparison) {\n  const min = comparison - threshold;\n  const max = comparison + threshold;\n\n  return val > min && val < max;\n}\n\nexport function onScreen(el, options = { threshold: window.innerHeight / 2 }) {\n  let offsetValue = 0; // this value is reassigned with offset().\n  const elOffset = offset(el, offsetValue, false);\n\n  if (inThreshold(window.pageYOffset, options.threshold, elOffset)) {\n    return true;\n  } else {\n    return false;\n  }\n}\n","import { debounce, onScreen } from '../helpers';\n\nexport default class ViewController {\n  constructor() {\n    this.$nodes = {\n      images: document.querySelectorAll('img[data-src]'),\n    };\n\n    this.data = {\n      imagesLoaded: [],\n      imageQueue: [],\n    };\n\n    this.setImageQueue();\n\n    this.debouncedResize = new CustomEvent('debouncedResize');\n    this.throttledScroll = new CustomEvent('throttledScroll');\n\n    this.init();\n  }\n\n  init() {\n    this.evaluateImageQueue();\n    this.addCustomEvents();\n    this.lazyLoader();\n  }\n\n  lazyLoader() {\n    window.addEventListener('throttledScroll', () => {\n      this.evaluateImageQueue();\n    });\n  }\n\n  setImageQueue() {\n    const { images } = this.$nodes;\n    images.forEach(image => {\n      this.data.imageQueue.push(image);\n\n      image.parentNode.style.paddingBottom = `${(image.dataset.height /\n        image.dataset.width) *\n        100}%`;\n    });\n  }\n\n  evaluateImageQueue() {\n    const { data } = this;\n    const load = data.imageQueue.filter(image =>\n      onScreen(image, { threshold: window.innerHeight })\n    );\n\n    load.forEach(image => {\n      if (!image.getAttribute('src')) {\n        image.setAttribute('src', image.dataset.src);\n        image.classList.add('loaded');\n        data.imagesLoaded.push(image);\n      }\n    });\n  }\n\n  addCustomEvents() {\n    window.addEventListener(\n      'resize',\n      debounce(() => {\n        this.emitResizeEvent();\n      }, 100)\n    );\n    window.addEventListener(\n      'scroll',\n      debounce(() => {\n        this.emitScrollEvent();\n      }, 10)\n    );\n  }\n\n  emitResizeEvent() {\n    window.dispatchEvent(this.debouncedResize);\n  }\n\n  emitScrollEvent() {\n    window.dispatchEvent(this.throttledScroll);\n  }\n}\n","const { tween } = require('popmotion');\n\nconst gallery = document.querySelector('.gallery');\n\nexport default () => {\n  if (!gallery) return;\n\n  const module = {\n    name: 'gallery',\n    $nodes: {\n      slider: gallery.querySelector('.gallery__container'),\n      slides: gallery.querySelectorAll('.gallery__slide'),\n      liners: gallery.querySelectorAll('.gallery__slide-liner'),\n      figures: gallery.querySelectorAll('.gallery__figure'),\n      images: gallery.querySelectorAll('.gallery__figure img'),\n      previous: gallery.querySelectorAll('.gallery__previous'),\n      next: gallery.querySelectorAll('.gallery__next'),\n    },\n\n    data: {\n      maxLinerWidth: 0,\n      actualSlideWidth: 0,\n      activeIndex: 0,\n      translateValue: 0,\n      slideCount: 0,\n    },\n\n    hooks: {\n      created: () => {\n        const { methods } = module;\n        methods.addListeners();\n        methods.setMaxSlideWidth();\n      },\n\n      ready: () => {\n        const { methods } = module;\n\n        methods.indexSlides();\n      },\n\n      resize: () => {\n        const { methods } = module;\n        methods.setMaxSlideWidth();\n      },\n    },\n\n    methods: {\n      addListeners() {\n        const { $nodes, methods } = module;\n\n        $nodes.previous.forEach(button => {\n          button.addEventListener('click', methods.previous);\n        });\n\n        $nodes.next.forEach(button => {\n          button.addEventListener('click', methods.next);\n        });\n\n        window.addEventListener('resize', methods.setMaxSlideWidth);\n      },\n\n      goToActiveIndex() {\n        const { $nodes, data } = module;\n\n        data.translateValue = -data.actualSlideWidth * data.activeIndex;\n        $nodes.slider.style.transform = `translate3d(${data.translateValue}px, 0, 0)`;\n      },\n\n      previous() {\n        const { data, methods } = module;\n\n        if (data.activeIndex - 1 < 0) {\n          data.activeIndex = data.slideCount - 1;\n        } else {\n          data.activeIndex--;\n        }\n\n        methods.goToActiveIndex();\n      },\n\n      next() {\n        const { data, methods } = module;\n\n        if (data.activeIndex + 1 === data.slideCount) {\n          data.activeIndex = 0;\n        } else {\n          data.activeIndex++;\n        }\n\n        methods.goToActiveIndex();\n      },\n\n      indexSlides() {\n        const { $nodes, data } = module;\n\n        $nodes.slides.forEach((slide, index) => {\n          slide.dataset.index = index;\n        });\n\n        data.slideCount = $nodes.slides.length;\n      },\n\n      resizeSlides() {\n        const { $nodes, methods, data } = module;\n        $nodes.liners.forEach(liner => {\n          liner.style.maxWidth = `${data.maxLinerWidth}px`;\n        });\n\n        data.actualSlideWidth = $nodes.slides[0].offsetWidth;\n        methods.goToActiveIndex();\n      },\n\n      setMaxSlideWidth() {\n        const { data, methods } = module;\n        const lastMaxWidth = data.maxLinerWidth;\n\n        data.maxLinerWidth = gallery.offsetWidth * 0.9;\n        if (data.maxLinerWidth !== lastMaxWidth) {\n          methods.resizeSlides();\n        }\n      },\n    },\n  };\n\n  return module;\n};\n","import ViewController from './modules/ViewController';\nimport gallery from './modules/gallery';\n\nwindow.__ViewController = new ViewController();\n\nlet modules = [];\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  console.log('DOMContentLoaded');\n  modules = [gallery()];\n\n  modules.forEach(module => {\n    if (typeof module.hooks.created === 'function') {\n      module.hooks.created();\n    }\n  });\n});\n\nwindow.addEventListener('readystatechange', () => {\n  console.log('readystatechange');\n});\n\nwindow.addEventListener('load', () => {\n  // defer non-instant work until the page has actually \"loaded\".\n  console.log('load');\n  modules.forEach(module => {\n    if (typeof module.hooks.ready === 'function') {\n      module.hooks.ready();\n    }\n  });\n\n  window.addEventListener('debouncedResize', () => {\n    modules.forEach(module => {\n      if (typeof module.hooks.debouncedResize === 'function')\n        module.hooks.debouncedResize();\n    });\n  });\n\n  window.addEventListener('resize', () => {\n    modules.forEach(module => {\n      if (typeof module.hooks.resize === 'function') {\n        module.hooks.resize();\n      }\n    });\n  });\n});\n"],"sourceRoot":""}